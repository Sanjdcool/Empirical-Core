"use strict";function __awaiter(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,s)}c((r=r.apply(e,n||[])).next())})}function __generator(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.defineProperty(exports,"__esModule",{value:!0});var global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};!function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global$1&&global$1.global===global$1&&global$1||this||{},n=e._,t=Array.prototype,r=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,i=t.push,a=t.slice,s=r.toString,c=r.hasOwnProperty,u=Array.isArray,l=Object.keys,f=Object.create,d=function(){},p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"==typeof exports||exports.nodeType?e._=p:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=p),exports._=p),p.VERSION="1.9.1";var E,h=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 3:return function(t,r,o){return e.call(n,t,r,o)};case 4:return function(t,r,o,i){return e.call(n,t,r,o,i)}}return function(){return e.apply(n,arguments)}},_=function(e,n,t){return p.iteratee!==E?p.iteratee(e,n):null==e?p.identity:p.isFunction(e)?h(e,n,t):p.isObject(e)&&!p.isArray(e)?p.matcher(e):p.property(e)};p.iteratee=E=function(e,n){return _(e,n,1/0)};var S=function(e,n){return n=null==n?e.length-1:+n,function(){for(var t=Math.max(arguments.length-n,0),r=Array(t),o=0;o<t;o++)r[o]=arguments[o+n];switch(n){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(n+1);for(o=0;o<n;o++)i[o]=arguments[o];return i[n]=r,e.apply(this,i)}},g=function(e){if(!p.isObject(e))return{};if(f)return f(e);d.prototype=e;var n=new d;return d.prototype=null,n},v=function(e){return function(n){return null==n?void 0:n[e]}},T=function(e,n){return null!=e&&c.call(e,n)},I=function(e,n){for(var t=n.length,r=0;r<t;r++){if(null==e)return;e=e[n[r]]}return t?e:void 0},m=Math.pow(2,53)-1,O=v("length"),N=function(e){var n=O(e);return"number"==typeof n&&n>=0&&n<=m};p.each=p.forEach=function(e,n,t){var r,o;if(n=h(n,t),N(e))for(r=0,o=e.length;r<o;r++)n(e[r],r,e);else{var i=p.keys(e);for(r=0,o=i.length;r<o;r++)n(e[i[r]],i[r],e)}return e},p.map=p.collect=function(e,n,t){n=_(n,t);for(var r=!N(e)&&p.keys(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=n(e[s],s,e)}return i};var A=function(e){return function(n,t,r,o){var i=arguments.length>=3;return function(n,t,r,o){var i=!N(n)&&p.keys(n),a=(i||n).length,s=e>0?0:a-1;for(o||(r=n[i?i[s]:s],s+=e);s>=0&&s<a;s+=e){var c=i?i[s]:s;r=t(r,n[c],c,n)}return r}(n,h(t,o,4),r,i)}};p.reduce=p.foldl=p.inject=A(1),p.reduceRight=p.foldr=A(-1),p.find=p.detect=function(e,n,t){var r=(N(e)?p.findIndex:p.findKey)(e,n,t);if(void 0!==r&&-1!==r)return e[r]},p.filter=p.select=function(e,n,t){var r=[];return n=_(n,t),p.each(e,function(e,t,o){n(e,t,o)&&r.push(e)}),r},p.reject=function(e,n,t){return p.filter(e,p.negate(_(n)),t)},p.every=p.all=function(e,n,t){n=_(n,t);for(var r=!N(e)&&p.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!n(e[a],a,e))return!1}return!0},p.some=p.any=function(e,n,t){n=_(n,t);for(var r=!N(e)&&p.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(n(e[a],a,e))return!0}return!1},p.contains=p.includes=p.include=function(e,n,t,r){return N(e)||(e=p.values(e)),("number"!=typeof t||r)&&(t=0),p.indexOf(e,n,t)>=0},p.invoke=S(function(e,n,t){var r,o;return p.isFunction(n)?o=n:p.isArray(n)&&(r=n.slice(0,-1),n=n[n.length-1]),p.map(e,function(e){var i=o;if(!i){if(r&&r.length&&(e=I(e,r)),null==e)return;i=e[n]}return null==i?i:i.apply(e,t)})}),p.pluck=function(e,n){return p.map(e,p.property(n))},p.where=function(e,n){return p.filter(e,p.matcher(n))},p.findWhere=function(e,n){return p.find(e,p.matcher(n))},p.max=function(e,n,t){var r,o,i=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=N(e)?e:p.values(e)).length;s<c;s++)null!=(r=e[s])&&r>i&&(i=r);else n=_(n,t),p.each(e,function(e,t,r){((o=n(e,t,r))>a||o===-1/0&&i===-1/0)&&(i=e,a=o)});return i},p.min=function(e,n,t){var r,o,i=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=N(e)?e:p.values(e)).length;s<c;s++)null!=(r=e[s])&&r<i&&(i=r);else n=_(n,t),p.each(e,function(e,t,r){((o=n(e,t,r))<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},p.shuffle=function(e){return p.sample(e,1/0)},p.sample=function(e,n,t){if(null==n||t)return N(e)||(e=p.values(e)),e[p.random(e.length-1)];var r=N(e)?p.clone(e):p.values(e),o=O(r);n=Math.max(Math.min(n,o),0);for(var i=o-1,a=0;a<n;a++){var s=p.random(a,i),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,n)},p.sortBy=function(e,n,t){var r=0;return n=_(n,t),p.pluck(p.map(e,function(e,t,o){return{value:e,index:r++,criteria:n(e,t,o)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(t<r||void 0===r)return-1}return e.index-n.index}),"value")};var R=function(e,n){return function(t,r,o){var i=n?[[],[]]:{};return r=_(r,o),p.each(t,function(n,o){var a=r(n,o,t);e(i,n,a)}),i}};p.groupBy=R(function(e,n,t){T(e,t)?e[t].push(n):e[t]=[n]}),p.indexBy=R(function(e,n,t){e[t]=n}),p.countBy=R(function(e,n,t){T(e,t)?e[t]++:e[t]=1});var C=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(e){return e?p.isArray(e)?a.call(e):p.isString(e)?e.match(C):N(e)?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:N(e)?e.length:p.keys(e).length},p.partition=R(function(e,n,t){e[t?0:1].push(n)},!0),p.first=p.head=p.take=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[0]:p.initial(e,e.length-n)},p.initial=function(e,n,t){return a.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},p.last=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[e.length-1]:p.rest(e,Math.max(0,e.length-n))},p.rest=p.tail=p.drop=function(e,n,t){return a.call(e,null==n||t?1:n)},p.compact=function(e){return p.filter(e,Boolean)};var y=function(e,n,t,r){for(var o=(r=r||[]).length,i=0,a=O(e);i<a;i++){var s=e[i];if(N(s)&&(p.isArray(s)||p.isArguments(s)))if(n)for(var c=0,u=s.length;c<u;)r[o++]=s[c++];else y(s,n,t,r),o=r.length;else t||(r[o++]=s)}return r};p.flatten=function(e,n){return y(e,n,!1)},p.without=S(function(e,n){return p.difference(e,n)}),p.uniq=p.unique=function(e,n,t,r){p.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=_(t,r));for(var o=[],i=[],a=0,s=O(e);a<s;a++){var c=e[a],u=t?t(c,a,e):c;n&&!t?(a&&i===u||o.push(c),i=u):t?p.contains(i,u)||(i.push(u),o.push(c)):p.contains(o,c)||o.push(c)}return o},p.union=S(function(e){return p.uniq(y(e,!0,!0))}),p.intersection=function(e){for(var n=[],t=arguments.length,r=0,o=O(e);r<o;r++){var i=e[r];if(!p.contains(n,i)){var a;for(a=1;a<t&&p.contains(arguments[a],i);a++);a===t&&n.push(i)}}return n},p.difference=S(function(e,n){return n=y(n,!0,!0),p.filter(e,function(e){return!p.contains(n,e)})}),p.unzip=function(e){for(var n=e&&p.max(e,O).length||0,t=Array(n),r=0;r<n;r++)t[r]=p.pluck(e,r);return t},p.zip=S(p.unzip),p.object=function(e,n){for(var t={},r=0,o=O(e);r<o;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t};var b=function(e){return function(n,t,r){t=_(t,r);for(var o=O(n),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(t(n[i],i,n))return i;return-1}};p.findIndex=b(1),p.findLastIndex=b(-1),p.sortedIndex=function(e,n,t,r){for(var o=(t=_(t,r,1))(n),i=0,a=O(e);i<a;){var s=Math.floor((i+a)/2);t(e[s])<o?i=s+1:a=s}return i};var L=function(e,n,t){return function(r,o,i){var s=0,c=O(r);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+c,s):c=i>=0?Math.min(i+1,c):i+c+1;else if(t&&i&&c)return r[i=t(r,o)]===o?i:-1;if(o!=o)return(i=n(a.call(r,s,c),p.isNaN))>=0?i+s:-1;for(i=e>0?s:c-1;i>=0&&i<c;i+=e)if(r[i]===o)return i;return-1}};p.indexOf=L(1,p.findIndex,p.sortedIndex),p.lastIndexOf=L(-1,p.findLastIndex),p.range=function(e,n,t){null==n&&(n=e||0,e=0),t||(t=n<e?-1:1);for(var r=Math.max(Math.ceil((n-e)/t),0),o=Array(r),i=0;i<r;i++,e+=t)o[i]=e;return o},p.chunk=function(e,n){if(null==n||n<1)return[];for(var t=[],r=0,o=e.length;r<o;)t.push(a.call(e,r,r+=n));return t};var D=function(e,n,t,r,o){if(!(r instanceof n))return e.apply(t,o);var i=g(e.prototype),a=e.apply(i,o);return p.isObject(a)?a:i};p.bind=S(function(e,n,t){if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");var r=S(function(o){return D(e,r,n,this,t.concat(o))});return r}),p.partial=S(function(e,n){var t=p.partial.placeholder,r=function(){for(var o=0,i=n.length,a=Array(i),s=0;s<i;s++)a[s]=n[s]===t?arguments[o++]:n[s];for(;o<arguments.length;)a.push(arguments[o++]);return D(e,r,this,this,a)};return r}),p.partial.placeholder=p,p.bindAll=S(function(e,n){var t=(n=y(n,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=n[t];e[r]=p.bind(e[r],e)}}),p.memoize=function(e,n){var t=function(r){var o=t.cache,i=""+(n?n.apply(this,arguments):r);return T(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return t.cache={},t},p.delay=S(function(e,n,t){return setTimeout(function(){return e.apply(null,t)},n)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(e,n,t){var r,o,i,a,s=0;t||(t={});var c=function(){s=!1===t.leading?0:p.now(),r=null,a=e.apply(o,i),r||(o=i=null)},u=function(){var u=p.now();s||!1!==t.leading||(s=u);var l=n-(u-s);return o=this,i=arguments,l<=0||l>n?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(o,i),r||(o=i=null)):r||!1===t.trailing||(r=setTimeout(c,l)),a};return u.cancel=function(){clearTimeout(r),s=0,r=o=i=null},u},p.debounce=function(e,n,t){var r,o,i=function(n,t){r=null,t&&(o=e.apply(n,t))},a=S(function(a){if(r&&clearTimeout(r),t){var s=!r;r=setTimeout(i,n),s&&(o=e.apply(this,a))}else r=p.delay(i,n,this,a);return o});return a.cancel=function(){clearTimeout(r),r=null},a},p.wrap=function(e,n){return p.partial(n,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},p.after=function(e,n){return function(){if(--e<1)return n.apply(this,arguments)}},p.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}},p.once=p.partial(p.before,2),p.restArguments=S;var k=!{toString:null}.propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=function(e,n){var t=w.length,o=e.constructor,i=p.isFunction(o)&&o.prototype||r,a="constructor";for(T(e,a)&&!p.contains(n,a)&&n.push(a);t--;)(a=w[t])in e&&e[a]!==i[a]&&!p.contains(n,a)&&n.push(a)};p.keys=function(e){if(!p.isObject(e))return[];if(l)return l(e);var n=[];for(var t in e)T(e,t)&&n.push(t);return k&&M(e,n),n},p.allKeys=function(e){if(!p.isObject(e))return[];var n=[];for(var t in e)n.push(t);return k&&M(e,n),n},p.values=function(e){for(var n=p.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=e[n[o]];return r},p.mapObject=function(e,n,t){n=_(n,t);for(var r=p.keys(e),o=r.length,i={},a=0;a<o;a++){var s=r[a];i[s]=n(e[s],s,e)}return i},p.pairs=function(e){for(var n=p.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=[n[o],e[n[o]]];return r},p.invert=function(e){for(var n={},t=p.keys(e),r=0,o=t.length;r<o;r++)n[e[t[r]]]=t[r];return n},p.functions=p.methods=function(e){var n=[];for(var t in e)p.isFunction(e[t])&&n.push(t);return n.sort()};var P=function(e,n){return function(t){var r=arguments.length;if(n&&(t=Object(t)),r<2||null==t)return t;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),s=a.length,c=0;c<s;c++){var u=a[c];n&&void 0!==t[u]||(t[u]=i[u])}return t}};p.extend=P(p.allKeys),p.extendOwn=p.assign=P(p.keys),p.findKey=function(e,n,t){n=_(n,t);for(var r,o=p.keys(e),i=0,a=o.length;i<a;i++)if(n(e[r=o[i]],r,e))return r};var x,F,W=function(e,n,t){return n in t};p.pick=S(function(e,n){var t={},r=n[0];if(null==e)return t;p.isFunction(r)?(n.length>1&&(r=h(r,n[1])),n=p.allKeys(e)):(r=W,n=y(n,!1,!1),e=Object(e));for(var o=0,i=n.length;o<i;o++){var a=n[o],s=e[a];r(s,a,e)&&(t[a]=s)}return t}),p.omit=S(function(e,n){var t,r=n[0];return p.isFunction(r)?(r=p.negate(r),n.length>1&&(t=n[1])):(n=p.map(y(n,!1,!1),String),r=function(e,t){return!p.contains(n,t)}),p.pick(e,r,t)}),p.defaults=P(p.allKeys,!0),p.create=function(e,n){var t=g(e);return n&&p.extendOwn(t,n),t},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,n){return n(e),e},p.isMatch=function(e,n){var t=p.keys(n),r=t.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=t[i];if(n[a]!==o[a]||!(a in o))return!1}return!0},x=function(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;return("function"===o||"object"===o||"object"==typeof n)&&F(e,n,t,r)},F=function(e,n,t,r){e instanceof p&&(e=e._wrapped),n instanceof p&&(n=n._wrapped);var i=s.call(e);if(i!==s.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(n)}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var c=e.constructor,u=n.constructor;if(c!==u&&!(p.isFunction(c)&&c instanceof c&&p.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],r=r||[];for(var l=t.length;l--;)if(t[l]===e)return r[l]===n;if(t.push(e),r.push(n),a){if((l=e.length)!==n.length)return!1;for(;l--;)if(!x(e[l],n[l],t,r))return!1}else{var f,d=p.keys(e);if(l=d.length,p.keys(n).length!==l)return!1;for(;l--;)if(f=d[l],!T(n,f)||!x(e[f],n[f],t,r))return!1}return t.pop(),r.pop(),!0},p.isEqual=function(e,n){return x(e,n)},p.isEmpty=function(e){return null==e||(N(e)&&(p.isArray(e)||p.isString(e)||p.isArguments(e))?0===e.length:0===p.keys(e).length)},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=u||function(e){return"[object Array]"===s.call(e)},p.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){p["is"+e]=function(n){return s.call(n)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return T(e,"callee")});var G=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof G&&(p.isFunction=function(e){return"function"==typeof e||!1}),p.isFinite=function(e){return!p.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&isNaN(e)},p.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,n){if(!p.isArray(n))return T(e,n);for(var t=n.length,r=0;r<t;r++){var o=n[r];if(null==e||!c.call(e,o))return!1;e=e[o]}return!!t},p.noConflict=function(){return e._=n,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(e){return p.isArray(e)?function(n){return I(n,e)}:v(e)},p.propertyOf=function(e){return null==e?function(){}:function(n){return p.isArray(n)?I(e,n):e[n]}},p.matcher=p.matches=function(e){return e=p.extendOwn({},e),function(n){return p.isMatch(n,e)}},p.times=function(e,n,t){var r=Array(Math.max(0,e));n=h(n,t,1);for(var o=0;o<e;o++)r[o]=n(o);return r},p.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},p.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=p.invert(U),B=function(e){var n=function(n){return e[n]},t="(?:"+p.keys(e).join("|")+")",r=RegExp(t),o=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,n):e}};p.escape=B(U),p.unescape=B(j),p.result=function(e,n,t){p.isArray(n)||(n=[n]);var r=n.length;if(!r)return p.isFunction(t)?t.call(e):t;for(var o=0;o<r;o++){var i=null==e?void 0:e[n[o]];void 0===i&&(i=t,o=r),e=p.isFunction(i)?i.call(e):i}return e};var H=0;p.uniqueId=function(e){var n=++H+"";return e?e+n:n},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Q=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+V[e]};p.template=function(e,n,t){!n&&t&&(n=t),n=p.defaults({},n,p.templateSettings);var r,o=RegExp([(n.escape||Q).source,(n.interpolate||Q).source,(n.evaluate||Q).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(n,t,r,o,s){return a+=e.slice(i,s).replace($,q),i=s+n.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),n}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,p)},c=n.variable||"obj";return s.source="function("+c+"){\n"+a+"}",s},p.chain=function(e){var n=p(e);return n._chain=!0,n};var Y=function(e,n){return e._chain?p(n).chain():n};p.mixin=function(e){return p.each(p.functions(e),function(n){var t=p[n]=e[n];p.prototype[n]=function(){var e=[this._wrapped];return i.apply(e,arguments),Y(this,t.apply(p,e))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=t[e];p.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],Y(this,t)}}),p.each(["concat","join","slice"],function(e){var n=t[e];p.prototype[e]=function(){return Y(this,n.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}();var _=Object.freeze({}),commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,n){return e(n={exports:{}},n.exports),n.exports}var lib=createCommonjsModule(function(e,n){function t(e,n){if("string"!=typeof e)return{};var t,r,o=n?Object.assign({},n):{},i=/[a-z]+/gi;for(e=e;r=i.exec(e);)o[t=r[0]]=o.hasOwnProperty(t)?o[t]+1:1;return o}Object.defineProperty(n,"__esModule",{value:!0});var r="abcdefghijklmnopqrstuvwxyz".split("");function o(e){var n,t=[];for(n=0;n<e.length;n++)t.push(e.slice(0,n)+e.slice(n+1));for(n=0;n<e.length-1;n++)t.push(e.slice(0,n)+e.slice(n+1,n+2)+e.slice(n,n+1)+e.slice(n+2));for(n=0;n<e.length;n++)r.forEach(function(r){t.push(e.slice(0,n)+r+e.slice(n+1))});for(n=0;n<=e.length;n++)r.forEach(function(r){t.push(e.slice(0,n)+r+e.slice(n))});return t}function i(e){var n,t=[];for(n in e)e.hasOwnProperty(n)&&t.push(n);return Math.max.apply(null,t)}function a(e){return Object.keys(e).length}function s(e,n){if(e.hasOwnProperty(n))return n;var t={},r=o(n);return r.forEach(function(n){e.hasOwnProperty(n)&&(t[e[n]]=n)}),a(t)>0?t[i(t)]:(r.forEach(function(n){o(n).forEach(function(n){e.hasOwnProperty(n)&&(t[e[n]]=n)})}),a(t)>0?t[i(t)]:n)}function c(e){return e.map(function(e){return function(e){return e?e.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s/g,"\n"):""}(e)}).filter(function(e){return""!==e}).join("\n")}var u="a\nability\nable\nabout\nabove\naccept\naccording\naccount\nacross\nact\naction\nactivity\nactually\nadd\naddress\nadministration\nadmit\nadult\naffect\nafter\nagain\nagainst\nage\nagency\nagent\nago\nagree\nagreement\nahead\nair\nall\nallow\nalmost\nalone\nalong\nalready\nalso\nalthough\nalways\nAmerican\namong\namount\nanalysis\nand\nanimal\nanother\nanswer\nany\nanyone\nanything\nappear\napply\napproach\narea\nargue\narm\naround\narrive\nart\narticle\nartist\nas\nask\nassume\nat\nattack\nattention\nattorney\naudience\nauthor\nauthority\navailable\navoid\naway\nbaby\nback\nbad\nbag\nball\nbank\nbar\nbase\nbe\nbeat\nbeautiful\nbecause\nbecome\nbed\nbefore\nbegin\nbehavior\nbehind\nbelieve\nbenefit\nbest\nbetter\nbetween\nbeyond\nbig\nbill\nbillion\nbit\nblack\nblood\nblue\nboard\nbody\nbook\nborn\nboth\nbox\nboy\nbreak\nbring\nbrother\nbudget\nbuild\nbuilding\nbusiness\nbut\nbuy\nby\ncall\ncamera\ncampaign\ncan\ncancer\ncandidate\ncapital\ncar\ncard\ncare\ncareer\ncarry\ncase\ncatch\ncause\ncell\ncenter\ncentral\ncentury\ncertain\ncertainly\nchair\nchallenge\nchance\nchange\ncharacter\ncharge\ncheck\nchild\nchoice\nchoose\nchurch\ncitizen\ncity\ncivil\nclaim\nclass\nclear\nclearly\nclose\ncoach\ncold\ncollection\ncollege\ncolor\ncome\ncommercial\ncommon\ncommunity\ncompany\ncompare\ncomputer\nconcern\ncondition\nconference\nCongress\nconsider\nconsumer\ncontain\ncontinue\ncontrol\ncost\ncould\ncountry\ncouple\ncourse\ncourt\ncover\ncreate\ncrime\ncultural\nculture\ncup\ncurrent\ncustomer\ncut\ndark\ndata\ndaughter\nday\ndead\ndeal\ndeath\ndebate\ndecade\ndecide\ndecision\ndeep\ndefense\ndegree\nDemocrat\ndemocratic\ndescribe\ndesign\ndespite\ndetail\ndetermine\ndevelop\ndevelopment\ndie\ndifference\ndifferent\ndifficult\ndinner\ndirection\ndirector\ndiscover\ndiscuss\ndiscussion\ndisease\ndo\ndoctor\ndog\ndoor\ndown\ndraw\ndream\ndrive\ndrop\ndrug\nduring\neach\nearly\neast\neasy\neat\neconomic\neconomy\nedge\neducation\neffect\neffort\neight\neither\nelection\nelse\nemployee\nend\nenergy\nenjoy\nenough\nenter\nentire\nenvironment\nenvironmental\nespecially\nestablish\neven\nevening\nevent\never\nevery\neverybody\neveryone\neverything\nevidence\nexactly\nexample\nexecutive\nexist\nexpect\nexperience\nexpert\nexplain\neye\nface\nfact\nfactor\nfail\nfall\nfamily\nfar\nfast\nfather\nfear\nfederal\nfeel\nfeeling\nfew\nfield\nfight\nfigure\nfill\nfilm\nfinal\nfinally\nfinancial\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfish\nfive\nfloor\nfly\nfocus\nfollow\nfood\nfoot\nfor\nforce\nforeign\nforget\nform\nformer\nforward\nfour\nfree\nfriend\nfrom\nfront\nfull\nfund\nfuture\ngame\ngarden\ngas\ngeneral\ngeneration\nget\ngirl\ngive\nglass\ngo\ngoal\ngood\ngovernment\ngreat\ngreen\nground\ngroup\ngrow\ngrowth\nguess\ngun\nguy\nhair\nhalf\nhand\nhang\nhappen\nhappy\nhard\nhave\nhe\nhead\nhealth\nhear\nheart\nheat\nheavy\nhelp\nher\nhere\nherself\nhigh\nhim\nhimself\nhis\nhistory\nhit\nhold\nhome\nhope\nhospital\nhot\nhotel\nhour\nhouse\nhow\nhowever\nhuge\nhuman\nhundred\nhusband\nI\nidea\nidentify\nif\nimage\nimagine\nimpact\nimportant\nimprove\nin\ninclude\nincluding\nincrease\nindeed\nindicate\nindividual\nindustry\ninformation\ninside\ninstead\ninstitution\ninterest\ninteresting\ninternational\ninterview\ninto\ninvestment\ninvolve\nissue\nit\nitem\nits\nitself\njob\njoin\njust\nkeep\nkey\nkid\nkill\nkind\nkitchen\nknow\nknowledge\nland\nlanguage\nlarge\nlast\nlate\nlater\nlaugh\nlaw\nlawyer\nlay\nlead\nleader\nlearn\nleast\nleave\nleft\nleg\nlegal\nless\nlet\nletter\nlevel\nlie\nlife\nlight\nlike\nlikely\nline\nlist\nlisten\nlittle\nlive\nlocal\nlong\nlook\nlose\nloss\nlot\nlove\nlow\nmachine\nmagazine\nmain\nmaintain\nmajor\nmajority\nmake\nman\nmanage\nmanagement\nmanager\nmany\nmarket\nmarriage\nmaterial\nmatter\nmay\nmaybe\nme\nmean\nmeasure\nmedia\nmedical\nmeet\nmeeting\nmember\nmemory\nmention\nmessage\nmethod\nmiddle\nmight\nmilitary\nmillion\nmind\nminute\nmiss\nmission\nmodel\nmodern\nmoment\nmoney\nmonth\nmore\nmorning\nmost\nmother\nmouth\nmove\nmovement\nmovie\nMr\nMrs\nmuch\nmusic\nmust\nmy\nmyself\nname\nnation\nnational\nnatural\nnature\nnear\nnearly\nnecessary\nneed\nnetwork\nnever\nnew\nnews\nnewspaper\nnext\nnice\nnight\nno\nnone\nnor\nnorth\nnot\nnote\nnothing\nnotice\nnow\nn't\nnumber\noccur\nof\noff\noffer\noffice\nofficer\nofficial\noften\noh\noil\nok\nold\non\nonce\none\nonly\nonto\nopen\noperation\nopportunity\noption\nor\norder\norganization\nother\nothers\nour\nout\noutside\nover\nown\nowner\npage\npain\npainting\npaper\nparent\npart\nparticipant\nparticular\nparticularly\npartner\nparty\npass\npast\npatient\npattern\npay\npeace\npeople\nper\nperform\nperformance\nperhaps\nperiod\nperson\npersonal\nphone\nphysical\npick\npicture\npiece\nplace\nplan\nplant\nplay\nplayer\nPM\npoint\npolice\npolicy\npolitical\npolitics\npoor\npopular\npopulation\nposition\npositive\npossible\npower\npractice\nprepare\npresent\npresident\npressure\npretty\nprevent\nprice\nprivate\nprobably\nproblem\nprocess\nproduce\nproduct\nproduction\nprofessional\nprofessor\nprogram\nproject\nproperty\nprotect\nprove\nprovide\npublic\npull\npurpose\npush\nput\nquality\nquestion\nquickly\nquite\nrace\nradio\nraise\nrange\nrate\nrather\nreach\nread\nready\nreal\nreality\nrealize\nreally\nreason\nreceive\nrecent\nrecently\nrecognize\nrecord\nred\nreduce\nreflect\nregion\nrelate\nrelationship\nreligious\nremain\nremember\nremove\nreport\nrepresent\nRepublican\nrequire\nresearch\nresource\nrespond\nresponse\nresponsibility\nrest\nresult\nreturn\nreveal\nrich\nright\nrise\nrisk\nroad\nrock\nrole\nroom\nrule\nrun\nsafe\nsame\nsave\nsay\nscene\nschool\nscience\nscientist\nscore\nsea\nseason\nseat\nsecond\nsection\nsecurity\nsee\nseek\nseem\nsell\nsend\nsenior\nsense\nseries\nserious\nserve\nservice\nset\nseven\nseveral\nsex\nsexual\nshake\nshare\nshe\nshoot\nshort\nshot\nshould\nshoulder\nshow\nside\nsign\nsignificant\nsimilar\nsimple\nsimply\nsince\nsing\nsingle\nsister\nsit\nsite\nsituation\nsix\nsize\nskill\nskin\nsmall\nsmile\nso\nsocial\nsociety\nsoldier\nsome\nsomebody\nsomeone\nsomething\nsometimes\nson\nsong\nsoon\nsort\nsound\nsource\nsouth\nsouthern\nspace\nspeak\nspecial\nspecific\nspeech\nspend\nsport\nspring\nstaff\nstage\nstand\nstandard\nstar\nstart\nstate\nstatement\nstation\nstay\nstep\nstill\nstock\nstop\nstore\nstory\nstrategy\nstreet\nstrong\nstructure\nstudent\nstudy\nstuff\nstyle\nsubject\nsuccess\nsuccessful\nsuch\nsuddenly\nsuffer\nsuggest\nsummer\nsupport\nsure\nsurface\nsystem\ntable\ntake\ntalk\ntask\ntax\nteach\nteacher\nteam\ntechnology\ntelevision\ntell\nten\ntend\nterm\ntest\nthan\nthank\nthat\nthe\ntheir\nthem\nthemselves\nthen\ntheory\nthere\nthese\nthey\nthing\nthink\nthird\nthis\nthose\nthough\nthought\nthousand\nthreat\nthree\nthrough\nthroughout\nthrow\nthus\ntime\nto\ntoday\ntogether\ntonight\ntoo\ntop\ntotal\ntough\ntoward\ntown\ntrade\ntraditional\ntraining\ntravel\ntreat\ntreatment\ntree\ntrial\ntrip\ntrouble\ntrue\ntruth\ntry\nturn\nTV\ntwo\ntype\nunder\nunderstand\nunit\nuntil\nup\nupon\nus\nuse\nusually\nvalue\nvarious\nvery\nvictim\nview\nviolence\nvisit\nvoice\nvote\nwait\nwalk\nwall\nwant\nwar\nwatch\nwater\nway\nwe\nweapon\nwear\nweek\nweight\nwell\nwest\nwestern\nwhat\nwhatever\nwhen\nwhere\nwhether\nwhich\nwhile\nwhite\nwho\nwhole\nwhom\nwhose\nwhy\nwide\nwife\nwill\nwin\nwind\nwindow\nwish\nwith\nwithin\nwithout\nwoman\nwonder\nword\nwork\nworker\nworld\nworry\nwould\nwrite\nwriter\nwrong\nyard\nyeah\nyear\nyes\nyet\nyou\nyoung\nyour\nyourself",l=[".",",","!","?",'"'];function f(e,n){return function(e){return e.split(" ")}(n).map(function(n){return function(e,n){var t=function(e){var n=function(e){var n=0;for(;-1!==l.indexOf(e[n]);)n+=1;return[e.substring(n),e.substring(0,n)]}(e),t=n[0],r=n[1],o=function(e){var n=e.length-1;for(;-1!==l.indexOf(e[n]);)n-=1;return[e.substring(0,n+1),e.substring(n+1)]}(t),i=o[0],a=o[1];return[r,i,a]}(n),r=t[0],o=t[1],i=t[2];return[r,s(e,o),i].join("")}(e,n)}).join(" ")}n.train=t,n.correct=s,n.edits=o,n.correctSentenceFromSamples=function(e,n,r){var o=c(e);return r&&(o=o+"\n"+u),f(t(o),n)},n.processSentences=c});unwrapExports(lib);var lib_1=lib.train,lib_2=lib.correct,lib_4=lib.correctSentenceFromSamples,lib_5=lib.processSentences;function getOptimalResponses(e){return(void 0)(e,{optimal:!0})}function getSubOptimalResponses(e){return(void 0)(e,function(e){return void 0==e.parent_id&&void 0!==e.feedback&&0==e.optimal})}function getTopOptimalResponse(e){var n=(void 0)(getOptimalResponses(e),function(e){return e.count}).reverse()[0];if(void 0===n)throw"DataError - No Optimal Response";return n}var lib$2=createCommonjsModule(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringNormalize=function(e){return e.replace(/[\u201C\u201D\u02DD]/g,'"').replace(/[\u00B4\u0060\u2018\u2019\u0301\u02BB\u02C8]/g,"'").replace(/[\u02CC\u201A\uFF0C]/g,",")}});unwrapExports(lib$2);var lib_1$1=lib$2.stringNormalize;function exactMatch(e,n){return(void 0)(n,function(n){return lib_1$1(n.text)===lib_1$1(e)})}function conceptResultTemplate(e,n){return void 0===n&&(n=!1),{conceptUID:e,correct:n}}function focusPointMatch(e,n){return(void 0)(n,function(n){return!(void 0)(n.text.split("|||"),function(n){return new RegExp(n,"i").test(e)})})}function focusPointChecker(e,n,t){var r=focusPointMatch(e,n);if(r)return focusPointResponseBuilder(r,t)}function focusPointResponseBuilder(e,n){var t={feedback:e.feedback,author:"Focus Point Hint",parent_id:getTopOptimalResponse(n).id};return e.concept_uid&&(t.concept_results=[conceptResultTemplate(e.concept_uid)]),e.concept_results&&(t.concept_results=e.concept_results),t}function incorrectSequenceMatch(e,n){return(void 0)(n,function(n){return(void 0)(n.text.split("|||"),function(n){return new RegExp(n).test(e)})})}function incorrectSequenceChecker(e,n,t){var r=incorrectSequenceMatch(e,n);if(r)return incorrectSequenceResponseBuilder(r,t)}function incorrectSequenceResponseBuilder(e,n){var t={feedback:e.feedback,author:"Incorrect Sequence Hint",parent_id:getTopOptimalResponse(n).id};return e.concept_results&&(t.concept_results=e.concept_results),t}var feedbackStrings={punctuationError:"There may be an error. How could you update the punctuation?",punctuationAndCaseError:"There may be an error. How could you update the punctuation and capitalization?",typingError:"Try again. There may be a spelling mistake.",caseError:"Proofread your work. There may be a capitalization error.",minLengthError:"Revise your work. Do you have all of the information from the prompt?",maxLengthError:"Revise your work. How could this sentence be shorter and more concise?",modifiedWordError:"Revise your work. You may have mixed up a word.",additionalWordError:"Revise your work. You may have added an extra word.",missingWordError:"Revise your work. You may have left out an important word.",whitespaceError:"There may be an error. You may have forgotten a space between two words.",flexibleModifiedWordError:"Revise your work. You may have mixed up a word.",flexibleAdditionalWordError:"Revise your work. You may have added an extra word.",flexibleMissingWordError:"Revise your work. You may have left out an important word.",spacingAfterCommaError:"<p>Revise your work. Always put a space after a <em>comma</em>.</p>"},spellingFeedbackStrings={"Capitalization Hint":"Proofread your work. Check your capitalization and spelling.","Punctuation Hint":"There may be an error. How could you update the punctuation and spelling?","Punctuation and Case Hint":"There may be an error. How could you update the punctuation, capitalization, and spelling?","Spelling Hint":"Try again. There may be a spelling mistake.","Modified Word Hint":"Revise your work. You may have mixed up or misspelled a word.","Additional Word Hint":"You may have added an extra word. Revise your work, and then check your spelling","Missing Word Hint":"You may have left out an important word. Revise your work, and then check your spelling","Whitespace Hint":"Proofread your work. You may have forgotten a space between two words. Also check your spelling.","Spacing After Comma Hint":feedbackStrings.spacingAfterCommaError};function caseInsensitiveMatch(e,n){return(void 0)(getOptimalResponses(n),function(n){return lib_1$1(n.text).toLowerCase()===lib_1$1(e).toLowerCase()})}function caseInsensitiveChecker(e,n,t){void 0===t&&(t=!1);var r=caseInsensitiveMatch(e,n);if(r)return caseInsensitiveResponseBuilder(n,r.id,t?r.concept_results:null)}function caseInsensitiveResponseBuilder(e,n,t){return{feedback:feedbackStrings.caseError,author:"Capitalization Hint",parent_id:n,concept_results:t||[conceptResultTemplate("66upe3S5uvqxuHoHOt4PcQ")]}}function removePunctuation(e){return e.replace(/[^A-Za-z0-9\s]/g,"")}function punctuationInsensitiveMatch(e,n){return(void 0)(getOptimalResponses(n),function(n){return removePunctuation(lib_1$1(n.text))===removePunctuation(lib_1$1(e))})}function punctuationInsensitiveChecker(e,n,t){void 0===t&&(t=!1);var r=punctuationInsensitiveMatch(e,n);if(r)return punctuationInsensitiveResponseBuilder(n,r.id,t?r.concept_results:null)}function punctuationInsensitiveResponseBuilder(e,n,t){return{feedback:feedbackStrings.punctuationError,author:"Punctuation Hint",parent_id:n,concept_results:t||[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function punctuationAndCaseInsensitiveMatch(e,n){return(void 0)(getOptimalResponses(n),function(n){return removePunctuation$1(lib_1$1(e)).toLowerCase()===removePunctuation$1(lib_1$1(n.text)).toLowerCase()})}function removePunctuation$1(e){return e.replace(/[^A-Za-z0-9\s]/g,"")}function punctuationAndCaseInsensitiveChecker(e,n,t){void 0===t&&(t=!1);var r=punctuationAndCaseInsensitiveMatch(e,n);if(r)return punctuationAndCaseInsensitiveResponseBuilder(n,r.id,t?r.concept_results:null)}function punctuationAndCaseInsensitiveResponseBuilder(e,n,t){return{feedback:feedbackStrings.punctuationAndCaseError,author:"Punctuation and Case Hint",parent_id:n,concept_results:t||[conceptResultTemplate("66upe3S5uvqxuHoHOt4PcQ"),conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}var subStrings=[" ,"," ."," ;"," !"," ?"],subStringsToText={" ,":"comma"," .":"period"," ;":"semi-colon"," !":"exclamation mark"," ?":"question mark"};function getFeedbackForPunc(e){return"<p>Revise your sentence. You don't need to have a space before a <em>"+subStringsToText[e]+"</em>.</p>"}function checkForSpacingError(e){return(void 0)(subStrings,function(n){return-1!==e.indexOf(n)})}function spacingBeforePunctuation(e){var n=checkForSpacingError(e);return n?{feedback:getFeedbackForPunc(n)}:void 0}function spacingBeforePunctuationMatch(e){return spacingBeforePunctuation(e)}function spacingBeforePunctuationChecker(e,n){var t=spacingBeforePunctuationMatch(e);if(t)return spacingBeforePunctuationResponseBuilder(n,t.feedback)}function spacingBeforePunctuationResponseBuilder(e,n){return{feedback:n,author:"Punctuation Hint",parent_id:getTopOptimalResponse(e)?getTopOptimalResponse(e).id:void 0,concept_results:[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function spacingAfterCommaMatch(e){for(var n=0;n<e.length;n++)if(","===e[n]&&n+1<e.length){var t=e[n-1],r=e[n+1];if(" "!==r&&t&&!t.match(/\d/)&&r&&!r.match(/\d/))return!0}return!1}function spacingAfterCommaChecker(e,n){if(spacingAfterCommaMatch(e))return spacingAfterCommaResponseBuilder(n)}function spacingAfterCommaResponseBuilder(e){return{feedback:feedbackStrings.spacingAfterCommaError,author:"Spacing After Comma Hint",parent_id:getTopOptimalResponse(e)?getTopOptimalResponse(e).id:void 0,concept_results:[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function whitespaceMatch(e,n){return(void 0)(getOptimalResponses(n),function(n){return removeSpaces(lib_1$1(e))===removeSpaces(lib_1$1(n.text))})}var removeSpaces=function(e){return e.replace(/\s+/g,"")};function whitespaceChecker(e,n){var t=whitespaceMatch(e,n);if(t)return whitespaceResponseBuilder(n,t.id)}function whitespaceResponseBuilder(e,n){return{feedback:feedbackStrings.whitespaceError,author:"Whitespace Hint",parent_id:n,concept_results:[conceptResultTemplate("5Yv4-kNHwwCO2p8HI90oqQ")]}}var diff=createCommonjsModule(function(e,n){var t;t=function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,t){n.__esModule=!0,n.canonicalize=n.convertChangesToXML=n.convertChangesToDMP=n.merge=n.parsePatch=n.applyPatches=n.applyPatch=n.createPatch=n.createTwoFilesPatch=n.structuredPatch=n.diffArrays=n.diffJson=n.diffCss=n.diffSentences=n.diffTrimmedLines=n.diffLines=n.diffWordsWithSpace=n.diffWords=n.diffChars=n.Diff=void 0;var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(2),s=t(3),c=t(5),u=t(6),l=t(7),f=t(8),d=t(9),p=t(10),E=t(11),h=t(13),_=t(14),S=t(16),g=t(17);n.Diff=i.default,n.diffChars=a.diffChars,n.diffWords=s.diffWords,n.diffWordsWithSpace=s.diffWordsWithSpace,n.diffLines=c.diffLines,n.diffTrimmedLines=c.diffTrimmedLines,n.diffSentences=u.diffSentences,n.diffCss=l.diffCss,n.diffJson=f.diffJson,n.diffArrays=d.diffArrays,n.structuredPatch=_.structuredPatch,n.createTwoFilesPatch=_.createTwoFilesPatch,n.createPatch=_.createPatch,n.applyPatch=p.applyPatch,n.applyPatches=p.applyPatches,n.parsePatch=E.parsePatch,n.merge=h.merge,n.convertChangesToDMP=S.convertChangesToDMP,n.convertChangesToXML=g.convertChangesToXML,n.canonicalize=f.canonicalize},function(e,n){function t(){}function r(e,n,t,r,o){for(var i=0,a=n.length,s=0,c=0;i<a;i++){var u=n[i];if(u.removed){if(u.value=e.join(r.slice(c,c+u.count)),c+=u.count,i&&n[i-1].added){var l=n[i-1];n[i-1]=n[i],n[i]=l}}else{if(!u.added&&o){var f=t.slice(s,s+u.count);f=f.map(function(e,n){var t=r[c+n];return t.length>e.length?t:e}),u.value=e.join(f)}else u.value=e.join(t.slice(s,s+u.count));s+=u.count,u.added||(c+=u.count)}}var d=n[a-1];return a>1&&"string"==typeof d.value&&(d.added||d.removed)&&e.equals("",d.value)&&(n[a-2].value+=d.value,n.pop()),n}n.__esModule=!0,n.default=t,t.prototype={diff:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.callback;"function"==typeof t&&(o=t,t={}),this.options=t;var i=this;function a(e){return o?(setTimeout(function(){o(void 0,e)},0),!0):e}e=this.castInput(e),n=this.castInput(n),e=this.removeEmpty(this.tokenize(e));var s=(n=this.removeEmpty(this.tokenize(n))).length,c=e.length,u=1,l=s+c,f=[{newPos:-1,components:[]}],d=this.extractCommon(f[0],n,e,0);if(f[0].newPos+1>=s&&d+1>=c)return a([{value:this.join(n),count:n.length}]);function p(){for(var t=-1*u;t<=u;t+=2){var o=void 0,l=f[t-1],d=f[t+1],p=(d?d.newPos:0)-t;l&&(f[t-1]=void 0);var E=l&&l.newPos+1<s,h=d&&0<=p&&p<c;if(E||h){if(!E||h&&l.newPos<d.newPos?(o={newPos:(_=d).newPos,components:_.components.slice(0)},i.pushComponent(o.components,void 0,!0)):((o=l).newPos++,i.pushComponent(o.components,!0,void 0)),p=i.extractCommon(o,n,e,t),o.newPos+1>=s&&p+1>=c)return a(r(i,o.components,n,e,i.useLongestToken));f[t]=o}else f[t]=void 0}var _;u++}if(o)!function e(){setTimeout(function(){if(u>l)return o();p()||e()},0)}();else for(;u<=l;){var E=p();if(E)return E}},pushComponent:function(e,n,t){var r=e[e.length-1];r&&r.added===n&&r.removed===t?e[e.length-1]={count:r.count+1,added:n,removed:t}:e.push({count:1,added:n,removed:t})},extractCommon:function(e,n,t,r){for(var o=n.length,i=t.length,a=e.newPos,s=a-r,c=0;a+1<o&&s+1<i&&this.equals(n[a+1],t[s+1]);)a++,s++,c++;return c&&e.components.push({count:c}),e.newPos=a,s},equals:function(e,n){return this.options.comparator?this.options.comparator(e,n):e===n||this.options.ignoreCase&&e.toLowerCase()===n.toLowerCase()},removeEmpty:function(e){for(var n=[],t=0;t<e.length;t++)e[t]&&n.push(e[t]);return n},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}}},function(e,n,t){n.__esModule=!0,n.characterDiff=void 0,n.diffChars=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=n.characterDiff=new i.default},function(e,n,t){n.__esModule=!0,n.wordDiff=void 0,n.diffWords=function(e,n,t){return t=a.generateOptions(t,{ignoreWhitespace:!0}),u.diff(e,n,t)},n.diffWordsWithSpace=function(e,n,t){return u.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(4);var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,u=n.wordDiff=new i.default;u.equals=function(e,n){return this.options.ignoreCase&&(e=e.toLowerCase(),n=n.toLowerCase()),e===n||this.options.ignoreWhitespace&&!c.test(e)&&!c.test(n)},u.tokenize=function(e){for(var n=e.split(/(\s+|\b)/),t=0;t<n.length-1;t++)!n[t+1]&&n[t+2]&&s.test(n[t])&&s.test(n[t+2])&&(n[t]+=n[t+2],n.splice(t+1,2),t--);return n}},function(e,n){n.__esModule=!0,n.generateOptions=function(e,n){if("function"==typeof e)n.callback=e;else if(e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}},function(e,n,t){n.__esModule=!0,n.lineDiff=void 0,n.diffLines=function(e,n,t){return s.diff(e,n,t)},n.diffTrimmedLines=function(e,n,t){var r=a.generateOptions(t,{ignoreWhitespace:!0});return s.diff(e,n,r)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(4);var s=n.lineDiff=new i.default;s.tokenize=function(e){var n=[],t=e.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var o=t[r];r%2&&!this.options.newlineIsToken?n[n.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),n.push(o))}return n}},function(e,n,t){n.__esModule=!0,n.sentenceDiff=void 0,n.diffSentences=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=n.sentenceDiff=new i.default;a.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,n,t){n.__esModule=!0,n.cssDiff=void 0,n.diffCss=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=n.cssDiff=new i.default;a.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,n,t){n.__esModule=!0,n.jsonDiff=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.diffJson=function(e,n,t){return u.diff(e,n,t)},n.canonicalize=l;var o,i=t(1),a=(o=i)&&o.__esModule?o:{default:o},s=t(5);var c=Object.prototype.toString,u=n.jsonDiff=new a.default;function l(e,n,t,o,i){n=n||[],t=t||[],o&&(e=o(i,e));var a=void 0;for(a=0;a<n.length;a+=1)if(n[a]===e)return t[a];var s=void 0;if("[object Array]"===c.call(e)){for(n.push(e),s=new Array(e.length),t.push(s),a=0;a<e.length;a+=1)s[a]=l(e[a],n,t,o,i);return n.pop(),t.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===(void 0===e?"undefined":r(e))&&null!==e){n.push(e),s={},t.push(s);var u=[],f=void 0;for(f in e)e.hasOwnProperty(f)&&u.push(f);for(u.sort(),a=0;a<u.length;a+=1)s[f=u[a]]=l(e[f],n,t,o,f);n.pop(),t.pop()}else s=e;return s}u.useLongestToken=!0,u.tokenize=s.lineDiff.tokenize,u.castInput=function(e){var n=this.options,t=n.undefinedReplacement,r=n.stringifyReplacer,o=void 0===r?function(e,n){return void 0===n?t:n}:r;return"string"==typeof e?e:JSON.stringify(l(e,null,null,o),o,"  ")},u.equals=function(e,n){return a.default.prototype.equals.call(u,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))}},function(e,n,t){n.__esModule=!0,n.arrayDiff=void 0,n.diffArrays=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=n.arrayDiff=new i.default;a.tokenize=function(e){return e.slice()},a.join=a.removeEmpty=function(e){return e}},function(e,n,t){n.__esModule=!0,n.applyPatch=s,n.applyPatches=function(e,n){"string"==typeof e&&(e=o.parsePatch(e));var t=0;!function r(){var o=e[t++];if(!o)return n.complete();n.loadFile(o,function(e,t){if(e)return n.complete(e);var i=s(t,o,n);n.patched(o,i,function(e){if(e)return n.complete(e);r()})})}()};var r,o=t(11),i=t(12),a=(r=i)&&r.__esModule?r:{default:r};function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n&&(n=o.parsePatch(n)),Array.isArray(n)){if(n.length>1)throw new Error("applyPatch only works with a single input.");n=n[0]}var r=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=n.hunks,c=t.compareLine||function(e,n,t,r){return n===r},u=0,l=t.fuzzFactor||0,f=0,d=0,p=void 0,E=void 0;function h(e,n){for(var t=0;t<e.lines.length;t++){var o=e.lines[t],i=o.length>0?o[0]:" ",a=o.length>0?o.substr(1):o;if(" "===i||"-"===i){if(!c(n+1,r[n],i,a)&&++u>l)return!1;n++}}return!0}for(var _=0;_<s.length;_++){for(var S=s[_],g=r.length-S.oldLines,v=0,T=d+S.oldStart-1,I=a.default(T,f,g);void 0!==v;v=I())if(h(S,T+v)){S.offset=d+=v;break}if(void 0===v)return!1;f=S.offset+S.oldStart+S.oldLines}for(var m=0,O=0;O<s.length;O++){var N=s[O],A=N.oldStart+N.offset+m-1;m+=N.newLines-N.oldLines,A<0&&(A=0);for(var R=0;R<N.lines.length;R++){var C=N.lines[R],y=C.length>0?C[0]:" ",b=C.length>0?C.substr(1):C,L=N.linedelimiters[R];if(" "===y)A++;else if("-"===y)r.splice(A,1),i.splice(A,1);else if("+"===y)r.splice(A,0,b),i.splice(A,0,L),A++;else if("\\"===y){var D=N.lines[R-1]?N.lines[R-1][0]:null;"+"===D?p=!0:"-"===D&&(E=!0)}}}if(p)for(;!r[r.length-1];)r.pop(),i.pop();else E&&(r.push(""),i.push("\n"));for(var k=0;k<r.length-1;k++)r[k]=r[k]+i[k];return r.join("")}},function(e,n){n.__esModule=!0,n.parsePatch=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],i=0;function a(){var e={};for(o.push(e);i<t.length;){var r=t[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);a&&(e.index=a[1]),i++}for(s(e),s(e),e.hunks=[];i<t.length;){var u=t[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))e.hunks.push(c());else{if(u&&n.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(u));i++}}}function s(e){var n=/^(---|\+\+\+)\s+(.*)$/.exec(t[i]);if(n){var r="---"===n[1]?"old":"new",o=n[2].split("\t",2),a=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[r+"FileName"]=a,e[r+"Header"]=(o[1]||"").trim(),i++}}function c(){for(var e=i,o=t[i++],a=o.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+a[1],oldLines:+a[2]||1,newStart:+a[3],newLines:+a[4]||1,lines:[],linedelimiters:[]},c=0,u=0;i<t.length&&!(0===t[i].indexOf("--- ")&&i+2<t.length&&0===t[i+1].indexOf("+++ ")&&0===t[i+2].indexOf("@@"));i++){var l=0==t[i].length&&i!=t.length-1?" ":t[i][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)break;s.lines.push(t[i]),s.linedelimiters.push(r[i]||"\n"),"+"===l?c++:"-"===l?u++:" "===l&&(c++,u++)}if(c||1!==s.newLines||(s.newLines=0),u||1!==s.oldLines||(s.oldLines=0),n.strict){if(c!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(u!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;i<t.length;)a();return o}},function(e,n){n.__esModule=!0,n.default=function(e,n,t){var r=!0,o=!1,i=!1,a=1;return function s(){if(r&&!i){if(o?a++:r=!1,e+a<=t)return a;i=!0}if(!o)return i||(r=!0),n<=e-a?-a++:(o=!0,s())}}},function(e,n,t){n.__esModule=!0,n.calcLineCount=s,n.merge=function(e,n,t){e=c(e,t),n=c(n,t);var r={};(e.index||n.index)&&(r.index=e.index||n.index);(e.newFileName||n.newFileName)&&(u(e)?u(n)?(r.oldFileName=l(r,e.oldFileName,n.oldFileName),r.newFileName=l(r,e.newFileName,n.newFileName),r.oldHeader=l(r,e.oldHeader,n.oldHeader),r.newHeader=l(r,e.newHeader,n.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=n.oldFileName||e.oldFileName,r.newFileName=n.newFileName||e.newFileName,r.oldHeader=n.oldHeader||e.oldHeader,r.newHeader=n.newHeader||e.newHeader));r.hunks=[];var o=0,i=0,a=0,s=0;for(;o<e.hunks.length||i<n.hunks.length;){var E=e.hunks[o]||{oldStart:1/0},h=n.hunks[i]||{oldStart:1/0};if(f(E,h))r.hunks.push(d(E,a)),o++,s+=E.newLines-E.oldLines;else if(f(h,E))r.hunks.push(d(h,s)),i++,a+=h.newLines-h.oldLines;else{var _={oldStart:Math.min(E.oldStart,h.oldStart),oldLines:0,newStart:Math.min(E.newStart+a,h.oldStart+s),newLines:0,lines:[]};p(_,E.oldStart,E.lines,h.oldStart,h.lines),i++,o++,r.hunks.push(_)}}return r};var r=t(14),o=t(11),i=t(15);function a(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function s(e){var n=function e(n){var t=0;var r=0;n.forEach(function(n){if("string"!=typeof n){var o=e(n.mine),i=e(n.theirs);void 0!==t&&(o.oldLines===i.oldLines?t+=o.oldLines:t=void 0),void 0!==r&&(o.newLines===i.newLines?r+=o.newLines:r=void 0)}else void 0===r||"+"!==n[0]&&" "!==n[0]||r++,void 0===t||"-"!==n[0]&&" "!==n[0]||t++});return{oldLines:t,newLines:r}}(e.lines),t=n.oldLines,r=n.newLines;void 0!==t?e.oldLines=t:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function c(e,n){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return o.parsePatch(e)[0];if(!n)throw new Error("Must provide a base reference or pass in a patch");return r.structuredPatch(void 0,void 0,n,e)}return e}function u(e){return e.newFileName&&e.newFileName!==e.oldFileName}function l(e,n,t){return n===t?n:(e.conflict=!0,{mine:n,theirs:t})}function f(e,n){return e.oldStart<n.oldStart&&e.oldStart+e.oldLines<n.oldStart}function d(e,n){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+n,newLines:e.newLines,lines:e.lines}}function p(e,n,t,r,o){var i={offset:n,lines:t,index:0},c={offset:r,lines:o,index:0};for(S(e,i,c),S(e,c,i);i.index<i.lines.length&&c.index<c.lines.length;){var u=i.lines[i.index],l=c.lines[c.index];if("-"!==u[0]&&"+"!==u[0]||"-"!==l[0]&&"+"!==l[0])if("+"===u[0]&&" "===l[0]){var f;(f=e.lines).push.apply(f,a(v(i)))}else if("+"===l[0]&&" "===u[0]){var d;(d=e.lines).push.apply(d,a(v(c)))}else"-"===u[0]&&" "===l[0]?h(e,i,c):"-"===l[0]&&" "===u[0]?h(e,c,i,!0):u===l?(e.lines.push(u),i.index++,c.index++):_(e,v(i),v(c));else E(e,i,c)}g(e,i),g(e,c),s(e)}function E(e,n,t){var r=v(n),o=v(t);if(T(r)&&T(o)){var s,c;if(i.arrayStartsWith(r,o)&&I(t,r,r.length-o.length))return void(s=e.lines).push.apply(s,a(r));if(i.arrayStartsWith(o,r)&&I(n,o,o.length-r.length))return void(c=e.lines).push.apply(c,a(o))}else if(i.arrayEqual(r,o)){var u;return void(u=e.lines).push.apply(u,a(r))}_(e,r,o)}function h(e,n,t,r){var o,i=v(n),s=function(e,n){var t=[],r=[],o=0,i=!1,a=!1;for(;o<n.length&&e.index<e.lines.length;){var s=e.lines[e.index],c=n[o];if("+"===c[0])break;if(i=i||" "!==s[0],r.push(c),o++,"+"===s[0])for(a=!0;"+"===s[0];)t.push(s),s=e.lines[++e.index];c.substr(1)===s.substr(1)?(t.push(s),e.index++):a=!0}"+"===(n[o]||"")[0]&&i&&(a=!0);if(a)return t;for(;o<n.length;)r.push(n[o++]);return{merged:r,changes:t}}(t,i);s.merged?(o=e.lines).push.apply(o,a(s.merged)):_(e,r?s:i,r?i:s)}function _(e,n,t){e.conflict=!0,e.lines.push({conflict:!0,mine:n,theirs:t})}function S(e,n,t){for(;n.offset<t.offset&&n.index<n.lines.length;){var r=n.lines[n.index++];e.lines.push(r),n.offset++}}function g(e,n){for(;n.index<n.lines.length;){var t=n.lines[n.index++];e.lines.push(t)}}function v(e){for(var n=[],t=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===t&&"+"===r[0]&&(t="+"),t!==r[0])break;n.push(r),e.index++}return n}function T(e){return e.reduce(function(e,n){return e&&"-"===n[0]},!0)}function I(e,n,t){for(var r=0;r<t;r++){var o=n[n.length-t+r].substr(1);if(e.lines[e.index+r]!==" "+o)return!1}return e.index+=t,!0}},function(e,n,t){n.__esModule=!0,n.structuredPatch=i,n.createTwoFilesPatch=a,n.createPatch=function(e,n,t,r,o,i){return a(e,e,n,t,r,o,i)};var r=t(5);function o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function i(e,n,t,i,a,s,c){c||(c={}),void 0===c.context&&(c.context=4);var u=r.diffLines(t,i,c);function l(e){return e.map(function(e){return" "+e})}u.push({value:"",lines:[]});for(var f=[],d=0,p=0,E=[],h=1,_=1,S=function(e){var n=u[e],r=n.lines||n.value.replace(/\n$/,"").split("\n");if(n.lines=r,n.added||n.removed){var a;if(!d){var s=u[e-1];d=h,p=_,s&&(E=c.context>0?l(s.lines.slice(-c.context)):[],d-=E.length,p-=E.length)}(a=E).push.apply(a,o(r.map(function(e){return(n.added?"+":"-")+e}))),n.added?_+=r.length:h+=r.length}else{if(d)if(r.length<=2*c.context&&e<u.length-2){var S;(S=E).push.apply(S,o(l(r)))}else{var g,v=Math.min(r.length,c.context);(g=E).push.apply(g,o(l(r.slice(0,v))));var T={oldStart:d,oldLines:h-d+v,newStart:p,newLines:_-p+v,lines:E};if(e>=u.length-2&&r.length<=c.context){var I=/\n$/.test(t),m=/\n$/.test(i);0!=r.length||I?I&&m||E.push("\\ No newline at end of file"):E.splice(T.oldLines,0,"\\ No newline at end of file")}f.push(T),d=0,p=0,E=[]}h+=r.length,_+=r.length}},g=0;g<u.length;g++)S(g);return{oldFileName:e,newFileName:n,oldHeader:a,newHeader:s,hunks:f}}function a(e,n,t,r,o,a,s){var c=i(e,n,t,r,o,a,s),u=[];e==n&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+c.oldFileName+(void 0===c.oldHeader?"":"\t"+c.oldHeader)),u.push("+++ "+c.newFileName+(void 0===c.newHeader?"":"\t"+c.newHeader));for(var l=0;l<c.hunks.length;l++){var f=c.hunks[l];u.push("@@ -"+f.oldStart+","+f.oldLines+" +"+f.newStart+","+f.newLines+" @@"),u.push.apply(u,f.lines)}return u.join("\n")+"\n"}},function(e,n){function t(e,n){if(n.length>e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}n.__esModule=!0,n.arrayEqual=function(e,n){if(e.length!==n.length)return!1;return t(e,n)},n.arrayStartsWith=t},function(e,n){n.__esModule=!0,n.convertChangesToDMP=function(e){for(var n=[],t=void 0,r=void 0,o=0;o<e.length;o++)t=e[o],r=t.added?1:t.removed?-1:0,n.push([r,t.value]);return n}},function(e,n){function t(e){var n=e;return n=(n=(n=(n=n.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}n.__esModule=!0,n.convertChangesToXML=function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r];o.added?n.push("<ins>"):o.removed&&n.push("<del>"),n.push(t(o.value)),o.added?n.push("</ins>"):o.removed&&n.push("</del>")}return n.join("")}}])},e.exports=t()});unwrapExports(diff);var diff_1=diff.diffWords,constants={timing:"Revise your work. Which joining word helps show the timing of the events?",opposite:"Revise your work. Which joining word helps show that the two ideas are opposite?",reason:"Revise your work. Which joining word helps tell why or give a reason?",prerequisite:"Revise your work. Which joining word helps show that one of the ideas must happen for the other one to happen?",choice:"Revise your work. Which joining word is used to show a choice?",and:"Revise your work. Which joining word is used to add another idea?"},data={after:{feedback:constants.timing},"as soon as":{feedback:constants.timing},before:{feedback:constants.timing},whenever:{feedback:constants.timing},while:{feedback:constants.timing},once:{feedback:constants.timing},when:{feedback:constants.timing},until:{feedback:constants.timing},although:{feedback:constants.opposite},"even though":{feedback:constants.opposite},though:{feedback:constants.opposite},but:{feedback:constants.opposite},yet:{feedback:constants.opposite},since:{feedback:constants.reason},so:{feedback:constants.reason},because:{feedback:constants.reason},for:{feedback:constants.reason},as:{feedback:constants.reason},"as long as":{feedback:constants.prerequisite},if:{feedback:constants.prerequisite},unless:{feedback:constants.prerequisite},"in order to":{feedback:constants.prerequisite},or:{feedback:constants.choice},nor:{feedback:constants.choice},and:{feedback:constants.and}};function getFeedbackForMissingWord(e){if(e){var n=data[cleanMissingWord(e)];if(n)return n.feedback}}function cleanMissingWord(e){return e.trim().toLowerCase()}var levenshtein=createCommonjsModule(function(e){var n,t;n=commonjsGlobal,t=function(e){function n(e,n){var t,r;for(t=-1,r=e.length;++t<r;)n(e[t],t,e)}function t(e,t){var r;return r=Array(e.length),n(e,function(e,n,o){r[n]=t(e,n,o)}),r}function r(e,t,r){return n(e,function(e,n,o){r=t(e,n,o)}),r}function o(e,t){var r,o,i;return i=this._matrix=[],e==t?this.distance=0:""==e?this.distance=t.length:""==t?this.distance=e.length:(r=[0],n(e,function(e,n){r[++n]=n}),i[0]=r,n(t,function(a,s){o=[++s],n(e,function(n,i){i++,e.charAt(i-1)==t.charAt(s-1)?o[i]=r[i-1]:o[i]=Math.min(r[i]+1,o[i-1]+1,r[i-1]+1)}),r=o,i[i.length]=r}),this.distance=o[o.length-1])}return o.prototype.toString=o.prototype.inspect=function(e){var n,o,i,a;for(o=r(n=this.getMatrix(),function(e,n){return Math.max(e,r(n,Math.max,0))},0),i=Array((o+"").length).join(" "),a=[];a.length<(n[0]&&n[0].length||0);)a[a.length]=Array(i.length+1).join("-");return a=a.join("-+")+"-",t(n,function(e){return t(e,function(e){return(i+e).slice(-i.length)}).join(" |")+" "}).join("\n"+a+"\n")},o.prototype.getMatrix=function(){return this._matrix.slice()},o.prototype.valueOf=function(){return this.distance},o},e&&e.exports?e.exports=t():n.Levenshtein=t()}),Levenshtein_=Object.freeze({default:levenshtein,__moduleExports:levenshtein}),Levenshtein=levenshtein||Levenshtein_;function sortByLevenshteinAndOptimal(e,n){return n.forEach(function(n){n.levenshtein=new Levenshtein(n.text,e).distance}),n.sort(function(e,n){var t=Number(e.levenshtein),r=Number(n.levenshtein);return t-r!=0?t-r:e.optimal===n.optimal?0:e.optimal?-1:1})}function rigidChangeObjectChecker(e,n){var t=rigidChangeObjectMatch(e,n);if(t)return rigidChangeObjectMatchResponseBuilder(t)}function flexibleChangeObjectChecker(e,n){var t=flexibleChangeObjectMatch(e,n);if(t)return flexibleChangeObjectMatchResponseBuilder(t)}function levenshteinMatchObjectChecker(e,n){var t=levenshteinChangeObjectMatch(e,n);if(t)return rigidChangeObjectMatchResponseBuilder(t,!0)}function rigidChangeObjectMatchResponseBuilder(e,n){void 0===n&&(n=!1);var t={};switch(e.errorType){case ERROR_TYPES.INCORRECT_WORD:var r=getFeedbackForMissingWord(e.missingText);return t.feedback=r||feedbackStrings.modifiedWordError,t.author="Modified Word Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("H-2lrblngQAQ8_s-ctye4g")],t;case ERROR_TYPES.MISSPELLED_WORD:return t.feedback=spellingFeedbackStrings["Spelling Hint"],t.author="Spelling Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("H-2lrblngQAQ8_s-ctye4g")],t;case ERROR_TYPES.ADDITIONAL_WORD:return t.feedback=feedbackStrings.additionalWordError,t.author="Additional Word Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("QYHg1tpDghy5AHWpsIodAg")],t;case ERROR_TYPES.MISSING_WORD:return t.feedback=feedbackStrings.missingWordError,t.author="Missing Word Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")],t;default:return}}function flexibleChangeObjectMatchResponseBuilder(e){var n=rigidChangeObjectMatchResponseBuilder(e);return n.author="Flexible "+n.author,n}function rigidChangeObjectMatch(e,n){return checkChangeObjectMatch(e,getOptimalResponses(n),function(e){return lib_1$1(e)})}function flexibleChangeObjectMatch(e,n){return checkChangeObjectMatch(e,getOptimalResponses(n),function(e){return removePunctuation(lib_1$1(e)).toLowerCase()})}function levenshteinChangeObjectMatch(e,n){return checkChangeObjectMatch(e,getOptimalResponses(sortByLevenshteinAndOptimal(e,getOptimalResponses(n).concat(getSubOptimalResponses(n)))),function(e){return lib_1$1(e)})}function checkChangeObjectMatch(e,n,t,r){var o;void 0===r&&(r=!1),r||(n=(void 0)(n,"count").reverse());var i=(void 0)(n,function(r){return o=getErrorType(t(r.text),t(e),n)});if(i){var a=getMissingAndAddedString(i.text,e);return Object.assign({},{response:i,errorType:o},a)}}var ERROR_TYPES={NO_ERROR:"NO_ERROR",MISSING_WORD:"MISSING_WORD",ADDITIONAL_WORD:"ADDITIONAL_WORD",INCORRECT_WORD:"INCORRECT_WORD",MISSPELLED_WORD:"MISSPELLED_WORD"},getErrorType=function(e,n,t){var r=getChangeObjects(e,n);if(checkForIncorrect(r)){var o=r.find(function(e){return e.added})?r.find(function(e){return e.added}).value:void 0,i=r.find(function(e){return e.removed})?r.find(function(e){return e.removed}).value:void 0;if(o&&i){var a=getOptimalResponses(t).map(function(e){return e.text}),s=lib_5(a),c=lib_1(s);if(lib_2(c,o)===i)return ERROR_TYPES.MISSPELLED_WORD}return ERROR_TYPES.INCORRECT_WORD}return checkForAdditions(r)?ERROR_TYPES.ADDITIONAL_WORD:checkForDeletions(r)?ERROR_TYPES.MISSING_WORD:void 0},getMissingAndAddedString=function(e,n){var t=getChangeObjects(e,n),r=t?(void 0)(t,function(e){return e.removed})[0]:null,o=r?r.value:void 0,i=t?(void 0)(t,function(e){return e.added})[0]:null;return{missingText:o,extraneousText:i?i.value:void 0}},getChangeObjects=function(e,n){return diff_1(e,n)},checkForIncorrect=function(e){var n=!1,t=0,r=0;return e.forEach(function(e,o,i){n=checkForTooLongError(e),checkForAddedOrRemoved(e)&&(r+=1),e.removed&&getLengthOfChangeObject(e)<2&&o===i.length-1?t+=1:t+=e.removed&&getLengthOfChangeObject(e)<2&&i[o+1].added?1:0}),!n&&1===t&&2===r},checkForAdditions=function(e){var n=!1,t=0,r=0;return e.forEach(function(e,o,i){checkForAddedOrRemoved(e)&&(r+=1),n=checkForTooLongError(e),e.added&&getLengthOfChangeObject(e)<2&&0===o?t+=1:t+=e.added&&getLengthOfChangeObject(e)<2&&!i[o-1].removed?1:0}),!n&&1===t&&1===r},checkForDeletions=function(e){var n=!1,t=0,r=0;return e.forEach(function(e,o,i){checkForAddedOrRemoved(e)&&(r+=1),n=checkForTooLongError(e),e.removed&&getLengthOfChangeObject(e)<2&&o===i.length-1?t+=1:t+=e.removed&&getLengthOfChangeObject(e)<2&&!i[o+1].added?1:0}),!n&&1===t&&1===r},checkForAddedOrRemoved=function(e){return e.removed||e.added},checkForTooLongChangeObjects=function(e){return getLengthOfChangeObject(e)>=2},checkForTooLongError=function(e){return(e.removed||e.added)&&checkForTooLongChangeObjects(e)},getLengthOfChangeObject=function(e){var n=e.value.split(" ").filter(Boolean);return n?n.length:0};function getCommonWords(e){var n=(void 0)(e,function(e){return normalizeString(e).split(" ")});return(void 0)(_,n)}function getCommonWordsWithImportantPOS(e){return getCommonWords(e)}function getMissingWords(e,n){var t=getCommonWordsWithImportantPOS(n),r=normalizeString(e).split(" ");return(void 0)(t,function(e){return(void 0)(r,e)})}function _getCaseSensitiveWord(e,n){var t=removePunctuation$2(n),r=normalizeString(n).indexOf(e);return t.substring(r,e.length+r)}function getFeedbackForWord(e,n,t){return t?"<p>Revise your work. Use all the words from the prompt, and make it complete by adding to it.</p>":"<p>Revise your sentence to include the word <em>"+_getCaseSensitiveWord(e,n[0])+"</em>. You may have misspelled it.</p>"}function extractSentencesFromResponses(e){return e.map(function(e){return e.text})}function getMissingWordsFromResponses(e,n){return(void 0)(getMissingWords(e,n),function(e){return e.length}).reverse()}function checkForMissingWords(e,n,t){void 0===t&&(t=!1);var r=extractSentencesFromResponses(n),o=getMissingWordsFromResponses(e,r);if(o.length>0)return{feedback:getFeedbackForWord(o[0],r,t)}}function normalizeString(e){return void 0===e&&(e=""),e.replace(/[.,?!;]/g,"").toLowerCase()}function removePunctuation$2(e){return void 0===e&&(e=""),e.replace(/[.,?!;]/g,"")}function requiredWordsMatch(e,n){return checkForMissingWords(e,getOptimalResponses(n))}function requiredWordsChecker(e,n){var t=requiredWordsMatch(e,n);if(t)return requiredWordsResponseBuilder(n,t.feedback)}function requiredWordsResponseBuilder(e,n){return{feedback:n,author:"Required Words Hint",parent_id:getTopOptimalResponse(e).id,concept_results:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")]}}function minLengthMatch(e,n){var t=getOptimalResponses(n);if(!(t.length<2)){var r=(void 0)(t.map(function(e){return lib_1$1(e.text).split(" ").length}))-1;return e.split(" ").length<r}}function minLengthChecker(e,n,t){if(void 0===t&&(t=!1),minLengthMatch(e,n))return minLengthResponseBuilder(n,t)}function minLengthResponseBuilder(e,n){var t=(void 0)(getOptimalResponses(e),function(e){return lib_1$1(e.text).length})[0];return{feedback:feedbackStrings.minLengthError,author:"Missing Details Hint",parent_id:t.key,concept_results:n?void 0:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")]}}function maxLengthMatch(e,n){var t=getOptimalResponses(n);if(t.length<2)return!1;var r=(void 0)(t.map(function(e){return lib_1$1(e.text).split(" ").length}))+1;return e.split(" ").length>r}function maxLengthChecker(e,n){if(maxLengthMatch(e,n))return maxLengthResponseBuilder(n)}function maxLengthResponseBuilder(e){var n=(void 0)(getOptimalResponses(e),function(e){return lib_1$1(e.text).length}).reverse()[0];return{feedback:feedbackStrings.maxLengthError,author:"Not Concise Hint",parent_id:n.key,concept_results:[conceptResultTemplate("QYHg1tpDghy5AHWpsIodAg")]}}function caseStartMatch(e,n){return/^[a-z]/.test(e)}function caseStartChecker(e,n){if(caseStartMatch(e,n))return caseStartResponseBuilder(n)}function caseStartResponseBuilder(e){return{feedback:feedbackStrings.caseError,author:"Capitalization Hint",parent_id:getTopOptimalResponse(e).id,concept_results:[conceptResultTemplate("S76ceOpAWR-5m-k47nu6KQ")]}}function punctuationEndMatch(e,n){var t=e[e.length-1];return!(!t||!t.match(/[a-z]/i))}function punctuationEndChecker(e,n,t){if(void 0===t&&(t=!1),punctuationEndMatch(e,n))return punctuationEndResponseBuilder(n,t)}function punctuationEndResponseBuilder(e,n){var t={feedback:feedbackStrings.punctuationError,author:"Punctuation End Hint",parent_id:getTopOptimalResponse(e).id,concept_results:[conceptResultTemplate("JVJhNIHGZLbHF6LYw605XA")]};return n&&(t.optimal=!1),t}function checkSentenceCombining(e,n,t,r,o){var i={response:n.trim(),responses:t,focusPoints:r,incorrectSequences:o},a={text:i.response,question_uid:e,count:1},s=checkForMatches(i,firstPassMatchers);if(s)return Object.assign(a,s);var c=prepareSpellingData(i),u=checkForMatches(c,firstPassMatchers,!0);if(u){var l=getSpellingFeedback(u);return Object.assign(a,l,{text:i.response,spelling_error:!0})}var f=checkForMatches(c,secondPassMatchers);return f?Object.assign(a,f):a}function firstPassMatchers(e,n){var t,r,o,i,a,s;return void 0===n&&(n=!1),__generator(this,function(c){switch(c.label){case 0:return t=e.response,r=e.spellCorrectedResponse,o=e.responses,i=e.focusPoints,a=e.incorrectSequences,[4,exactMatch(s=n?r:t,o)];case 1:return c.sent(),[4,focusPointChecker(s,i,o)];case 2:return c.sent(),[4,incorrectSequenceChecker(s,a,o)];case 3:return c.sent(),[4,caseInsensitiveChecker(s,o)];case 4:return c.sent(),[4,punctuationInsensitiveChecker(s,o)];case 5:return c.sent(),[4,punctuationAndCaseInsensitiveChecker(s,o)];case 6:return c.sent(),[4,spacingBeforePunctuationChecker(s,o)];case 7:return c.sent(),[4,spacingAfterCommaChecker(s,o)];case 8:return c.sent(),[4,whitespaceChecker(s,o)];case 9:return c.sent(),[4,rigidChangeObjectChecker(s,o)];case 10:return c.sent(),[2]}})}function secondPassMatchers(e,n){var t,r,o;return void 0===n&&(n=!1),__generator(this,function(n){switch(n.label){case 0:return t=e.response,r=e.spellCorrectedResponse,o=e.responses,e.incorrectSequences,[4,flexibleChangeObjectChecker(t,o)];case 1:return n.sent(),[4,requiredWordsChecker(r,o)];case 2:return n.sent(),[4,minLengthChecker(t,o)];case 3:return n.sent(),[4,maxLengthChecker(t,o)];case 4:return n.sent(),[4,caseStartChecker(t,o)];case 5:return n.sent(),[4,punctuationEndChecker(t,o)];case 6:return n.sent(),[2]}})}function checkForMatches(e,n,t){void 0===t&&(t=!1);for(var r=n(e,t),o=r.next();!o.value&&!o.done;)o=r.next();if(o.value)return o.value}function prepareSpellingData(e){var n=Object.assign({},e),t=getOptimalResponses(e.responses).map(function(e){return e.text});return n.spellCorrectedResponse=lib_4(t,e.response,!1),n}function getSpellingFeedback(e){var n=(void 0)(e,"count","child_count","created_at","first_attempt_count","key","optimal");return n.parent_id?n.feedback=spellingFeedbackStrings[n.author]:(n.author="Spelling Hint",n.feedback=spellingFeedbackStrings["Spelling Hint"],n.parent_id=n.id,delete n.id),n}function checkDiagnosticQuestion(e,n,t){var r={response:n.trim(),responses:t},o={text:r.response,question_uid:e,count:1,gradeIndex:"nonhuman"+e},i=checkForMatches$1(r,firstPassMatchers$1);return i?Object.assign(o,i):(o.gradeIndex="unmarked"+e,o)}function firstPassMatchers$1(e){var n,t,r;return __generator(this,function(o){switch(o.label){case 0:return n=e.response,t=e.responses,e.incorrectSequences,[4,exactMatch(r=n,t)];case 1:return o.sent(),[4,caseInsensitiveChecker(r,t,!0)];case 2:return o.sent(),[4,punctuationInsensitiveChecker(r,t,!0)];case 3:return o.sent(),[4,punctuationAndCaseInsensitiveChecker(r,t,!0)];case 4:return o.sent(),[4,minLengthChecker(r,t,!0)];case 5:return o.sent(),[4,levenshteinMatchObjectChecker(r,t)];case 6:return o.sent(),[4,whitespaceChecker(r,t)];case 7:return o.sent(),[2]}})}function checkForMatches$1(e,n){for(var t=n(e),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}var constants$1={FIREBASE:"https://quillconnectstaging.firebaseio.com/v2/",DISPLAY_ERROR:"DISPLAY_ERROR",DISPLAY_MESSAGE:"DISPLAY_MESSAGE",DISMISS_FEEDBACK:"DISMISS_FEEDBACK",CLEAR_DISPLAY_MESSAGE_AND_ERROR:"CLEAR_DISPLAY_MESSAGE_AND_ERROR",ATTEMPTING_LOGIN:"ATTEMPTING_LOGIN",LOGIN_USER:"LOGIN_USER",LOGOUT:"LOGOUT",LOGGED_IN:"LOGGED_IN",ANONYMOUS:"ANONYMOUS",AWAITING_AUTH_RESPONSE:"AWAITING_AUTH_RESPONSE",RECEIVE_CONCEPTS_DATA:"RECEIVE_CONCEPTS_DATA",AWAIT_NEW_CONCEPT_RESPONSE:"AWAIT_NEW_CONCEPT_RESPONSE",RECEIVE_NEW_CONCEPT_RESPONSE:"RECEIVE_NEW_CONCEPT_RESPONSE",START_CONCEPT_EDIT:"START_CONCEPT_EDIT",FINISH_CONCEPT_EDIT:"FINISH_CONCEPT_EDIT",SUBMIT_CONCEPT_EDIT:"SUBMIT_CONCEPT_EDIT",TOGGLE_NEW_CONCEPT_MODAL:"TOGGLE_NEW_CONCEPT_MODAL",EDITING_CONCEPT:"EDITING_CONCEPT",SUBMITTING_CONCEPT:"SUBMITTING_CONCEPT",RECEIVE_LESSONS_DATA:"RECEIVE_LESSONS_DATA",AWAIT_NEW_LESSON_RESPONSE:"AWAIT_NEW_LESSON_RESPONSE",RECEIVE_NEW_LESSON_RESPONSE:"RECEIVE_NEW_LESSON_RESPONSE",START_LESSON_EDIT:"START_LESSON_EDIT",FINISH_LESSON_EDIT:"FINISH_LESSON_EDIT",SUBMIT_LESSON_EDIT:"SUBMIT_LESSON_EDIT",TOGGLE_NEW_LESSON_MODAL:"TOGGLE_NEW_LESSON_MODAL",RECEIVE_CLASSROOM_LESSONS_DATA:"RECEIVE_CLASSROOM_LESSONS_DATA",RECEIVE_CLASSROOM_LESSON_DATA:"RECEIVE_CLASSROOM_LESSON_DATA",RECEIVE_CLASSROOM_LESSONS_REVIEW_DATA:"RECEIVE_CLASSROOM_LESSONS_REVIEW_DATA",NO_LESSON_ID:"NO_LESSON_ID",NO_LESSONS:"NO_LESSONS",SET_LESSON_ID:"SET_LESSON_ID",CLEAR_CLASSROOM_LESSON_DATA:"CLEAR_CLASSROOM_LESSON_DATA",EDITING_LESSON:"EDITING_LESSON",SUBMITTING_LESSON:"SUBMITTING_LESSON",RECEIVE_QUESTIONS_DATA:"RECEIVE_QUESTIONS_DATA",AWAIT_NEW_QUESTION_RESPONSE:"AWAIT_NEW_QUESTION_RESPONSE",RECEIVE_NEW_QUESTION_RESPONSE:"RECEIVE_NEW_QUESTION_RESPONSE",START_QUESTION_EDIT:"START_QUESTION_EDIT",FINISH_QUESTION_EDIT:"FINISH_QUESTION_EDIT",SUBMIT_QUESTION_EDIT:"SUBMIT_QUESTION_EDIT",TOGGLE_NEW_QUESTION_MODAL:"TOGGLE_NEW_QUESTION_MODAL",SHOULD_RELOAD_RESPONSES:"SHOULD_RELOAD_RESPONSES",CLEAR_QUESTION_STATE:"CLEAR_QUESTION_STATE",UPDATE_SEARCHED_RESPONSES:"UPDATE_SEARCHED_RESPONSES",SET_RESPONSE_PAGE_NUMBER:"SET_RESPONSE_PAGE_NUMBER",SET_RESPONSE_STRING_FILTER:"SET_RESPONSE_STRING_FILTER",INCREMENT_REQUEST_COUNT:"INCREMENT_REQUEST_COUNT",SET_SUGGESTED_SEQUENCES:"SET_SUGGESTED_SEQUENCES",SET_USED_SEQUENCES:"SET_USED_SEQUENCES",SET_COVERED_SEQUENCES:"SET_COVERED_SEQUENCES",EDITING_QUESTION:"EDITING_QUESTION",SUBMITTING_QUESTION:"SUBMITTING_QUESTION",RECEIVE_FILL_IN_BLANK_QUESTIONS_DATA:"RECEIVE_FILL_IN_BLANK_QUESTIONS_DATA",AWAIT_NEW_FILL_IN_BLANK_QUESTION_RESPONSE:"AWAIT_NEW_FILL_IN_BLANK_QUESTION_RESPONSE",RECEIVE_NEW_FILL_IN_BLANK_QUESTION_RESPONSE:"RECEIVE_NEW_FILL_IN_BLANK_QUESTION_RESPONSE",START_FILL_IN_BLANK_QUESTION_EDIT:"START_FILL_IN_BLANK_QUESTION_EDIT",FINISH_FILL_IN_BLANK_QUESTION_EDIT:"FINISH_FILL_IN_BLANK_QUESTION_EDIT",SUBMIT_FILL_IN_BLANK_QUESTION_EDIT:"SUBMIT_FILL_IN_BLANK_QUESTION_EDIT",TOGGLE_NEW_FILL_IN_BLANK_QUESTION_MODAL:"TOGGLE_NEW_FILL_IN_BLANK_QUESTION_MODAL",EDITING_FILL_IN_BLANK_QUESTION:"EDITING_FILL_IN_BLANK_QUESTION",SUBMITTING_FILL_IN_BLANK_QUESTION:"SUBMITTING_FILL_IN_BLANK_QUESTION",START_RESPONSE_EDIT:"START_RESPONSE_EDIT",CANCEL_RESPONSE_EDIT:"CANCEL_RESPONSE_EDIT",FINISH_RESPONSE_EDIT:"FINISH_RESPONSE_EDIT",SUBMIT_RESPONSE_EDIT:"SUBMIT_RESPONSE_EDIT",SUBMITTING_RESPONSE:"SUBMITTING_RESPONSE",START_CHILD_RESPONSE_VIEW:"START_CHILD_RESPONSE_VIEW",CANCEL_CHILD_RESPONSE_VIEW:"CANCEL_CHILD_RESPONSE_VIEW",START_FROM_RESPONSE_VIEW:"START_FROM_RESPONSE_VIEW",CANCEL_FROM_RESPONSE_VIEW:"CANCEL_FROM_RESPONSE_VIEW",START_TO_RESPONSE_VIEW:"START_TO_RESPONSE_VIEW",CANCEL_TO_RESPONSE_VIEW:"CANCEL_TO_RESPONSE_VIEW",RECEIVE_DIAGNOSTIC_QUESTIONS_DATA:"RECEIVE_DIAGNOSTIC_QUESTIONS_DATA",AWAIT_NEW_DIAGNOSTIC_QUESTION_RESPONSE:"AWAIT_NEW_DIAGNOSTIC_QUESTION_RESPONSE",RECEIVE_NEW_DIAGNOSTIC_QUESTION_RESPONSE:"RECEIVE_NEW_DIAGNOSTIC_QUESTION_RESPONSE",START_DIAGNOSTIC_QUESTION_EDIT:"START_DIAGNOSTIC_QUESTION_EDIT",FINISH_DIAGNOSTIC_QUESTION_EDIT:"FINISH_DIAGNOSTIC_QUESTION_EDIT",SUBMIT_DIAGNOSTIC_QUESTION_EDIT:"SUBMIT_DIAGNOSTIC_QUESTION_EDIT",TOGGLE_NEW_DIAGNOSTIC_QUESTION_MODAL:"TOGGLE_NEW_DIAGNOSTIC_QUESTION_MODAL",EDITING_DIAGNOSTIC_QUESTION:"EDITING_DIAGNOSTIC_QUESTION",SUBMITTING_DIAGNOSTIC_QUESTION:"SUBMITTING_DIAGNOSTIC_QUESTION",START_DIAGNOSTIC_RESPONSE_EDIT:"START_DIAGNOSTIC_RESPONSE_EDIT",CANCEL_DIAGNOSTIC_RESPONSE_EDIT:"CANCEL_DIAGNOSTIC_RESPONSE_EDIT",FINISH_DIAGNOSTIC_RESPONSE_EDIT:"FINISH_DIAGNOSTIC_RESPONSE_EDIT",SUBMIT_DIAGNOSTIC_RESPONSE_EDIT:"SUBMIT_DIAGNOSTIC_RESPONSE_EDIT",SUBMITTING_DIAGNOSTIC_RESPONSE:"SUBMITTING_DIAGNOSTIC_RESPONSE",START_CHILD_DIAGNOSTIC_RESPONSE_VIEW:"START_CHILD_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_CHILD_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_CHILD_DIAGNOSTIC_RESPONSE_VIEW",START_FROM_DIAGNOSTIC_RESPONSE_VIEW:"START_FROM_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_FROM_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_FROM_DIAGNOSTIC_RESPONSE_VIEW",START_TO_DIAGNOSTIC_RESPONSE_VIEW:"START_TO_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_TO_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_TO_DIAGNOSTIC_RESPONSE_VIEW",RECEIVE_PATHWAYS_DATA:"RECEIVE_PATHWAYS_DATA",AWAIT_NEW_PATHWAY_RESPONSE:"AWAIT_NEW_PATHWAY_RESPONSE",RECEIVE_NEW_PATHWAY_RESPONSE:"RECEIVE_NEW_PATHWAY_RESPONSE",TOGGLE_EXPAND_SINGLE_RESPONSE:"TOGGLE_EXPAND_SINGLE_RESPONSE",COLLAPSE_ALL_RESPONSES:"COLLAPSE_ALL_RESPONSES",EXPAND_ALL_RESPONSES:"EXPAND_ALL_RESPONSES",TOGGLE_STATUS_FIELD:"TOGGLE_STATUS_FIELD",TOGGLE_RESPONSE_SORT:"TOGGLE_RESPONSE_SORT",RESET_ALL_FIELDS:"RESET_ALL_FIELDS",TOGGLE_MASS_SELECTION:"TOGGLE_MASS_SELECTION",DESELECT_ALL_FIELDS:"DESELECT_ALL_FIELDS",ADD_RESPONSE_TO_MASS_EDIT_ARRAY:"ADD_RESPONSE_TO_MASS_EDIT_ARRAY",REMOVE_RESPONSE_FROM_MASS_EDIT_ARRAY:"REMOVE_RESPONSE_FROM_MASS_EDIT_ARRAY",CLEAR_RESPONSES_FROM_MASS_EDIT_ARRAY:"CLEAR_RESPONSES_FROM_MASS_EDIT_ARRAY",QUESTION_SELECT_ADD_QUESTION:"QUESTION_SELECT_ADD_QUESTION",QUESTION_SELECT_MODIFY_QUESTION:"QUESTION_SELECT_MODIFY_QUESTION",QUESTION_SELECT_UPDATE_TITLE:"QUESTION_SELECT_UPDATE_TITLE",NUMBERS_AS_WORDS:["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty"],INSTRUCTIONS:{sentenceFragments:"Add/change as few words as you can to change this fragment into a sentence."},RECEIVE_CONCEPTS_FEEDBACK_DATA:"RECEIVE_CONCEPTS_FEEDBACK_DATA",AWAIT_NEW_CONCEPTS_FEEDBACK_RESPONSE:"AWAIT_NEW_CONCEPTS_FEEDBACK_RESPONSE",RECEIVE_NEW_CONCEPTS_FEEDBACK_RESPONSE:"RECEIVE_NEW_CONCEPTS_FEEDBACK_RESPONSE",START_CONCEPTS_FEEDBACK_EDIT:"START_CONCEPTS_FEEDBACK_EDIT",FINISH_CONCEPTS_FEEDBACK_EDIT:"FINISH_CONCEPTS_FEEDBACK_EDIT",SUBMIT_CONCEPTS_FEEDBACK_EDIT:"SUBMIT_CONCEPTS_FEEDBACK_EDIT",TOGGLE_NEW_CONCEPTS_FEEDBACK_MODAL:"TOGGLE_NEW_CONCEPTS_FEEDBACK_MODAL",RECEIVE_ITEM_LEVELS_DATA:"RECEIVE_ITEM_LEVELS_DATA",AWAIT_NEW_ITEM_LEVEL_RESPONSE:"AWAIT_NEW_ITEM_LEVEL_RESPONSE",RECEIVE_NEW_ITEM_LEVEL_RESPONSE:"RECEIVE_NEW_ITEM_LEVEL_RESPONSE",START_ITEM_LEVEL_EDIT:"START_ITEM_LEVEL_EDIT",FINISH_ITEM_LEVEL_EDIT:"FINISH_ITEM_LEVEL_EDIT",SUBMIT_ITEM_LEVEL_EDIT:"SUBMIT_ITEM_LEVEL_EDIT",TOGGLE_NEW_ITEM_LEVEL_MODAL:"TOGGLE_NEW_ITEM_LEVEL_MODAL",EDITING_ITEM_LEVEL:"EDITING_ITEM_LEVEL",SUBMITTING_ITEM_LEVEL:"SUBMITTING_ITEM_LEVEL",RECEIVE_SENTENCE_FRAGMENTS_DATA:"RECEIVE_SENTENCE_FRAGMENTS_DATA",AWAIT_NEW_SENTENCE_FRAGMENT_RESPONSE:"AWAIT_NEW_SENTENCE_FRAGMENT_RESPONSE",RECEIVE_NEW_SENTENCE_FRAGMENT_RESPONSE:"RECEIVE_NEW_SENTENCE_FRAGMENT_RESPONSE",START_SENTENCE_FRAGMENT_EDIT:"START_SENTENCE_FRAGMENT_EDIT",FINISH_SENTENCE_FRAGMENT_EDIT:"FINISH_SENTENCE_FRAGMENT_EDIT",SUBMIT_SENTENCE_FRAGMENT_EDIT:"SUBMIT_SENTENCE_FRAGMENT_EDIT",TOGGLE_NEW_SENTENCE_FRAGMENT_MODAL:"TOGGLE_NEW_SENTENCE_FRAGMENT_MODAL",EDITING_SENTENCE_FRAGMENT:"EDITING_SENTENCE_FRAGMENT",SUBMITTING_SENTENCE_FRAGMENT:"SUBMITTING_SENTENCE_FRAGMENT",UPDATE_SESSION_DATA:"UPDATE_SESSION_DATA",DELETE_SESSION_DATA:"DELETE_SESSION_DATA",DELETE_ALL_SESSION_DATA:"DELETE_ALL_SESSION_DATA",UPDATE_RESPONSE_STATUS:"UPDATE_RESPONSE_STATUS",UPDATE_RESPONSE_DATA:"UPDATE_RESPONSE_DATA",DELETE_RESPONSE_STATUS:"DELETE_RESPONSE_STATUS",RECEIVE_SCORE_ANALYSIS_DATA:"RECEIVE_SCORE_ANALYSIS_DATA",UPDATE_CLASSROOM_SESSION_DATA:"UPDATE_CLASSROOM_SESSION_DATA",UPDATE_CLASSROOM_SESSION_WITHOUT_CURRENT_SLIDE:"UPDATE_CLASSROOM_SESSION_WITHOUT_CURRENT_SLIDE",UPDATE_SLIDE_IN_STORE:"UPDATE_SLIDE_IN_STORE",TOGGLE_HEADERS:"TOGGLE_HEADERS",NO_CLASSROOM_ACTIVITY:"NO_CLASSROOM_ACTIVITY",NO_STUDENT_ID:"NO_STUDENT_ID",HIDE_SIGNUP_MODAL:"HIDE_SIGNUP_MODAL",SHOW_SIGNUP_MODAL:"SHOW_SIGNUP_MODAL",SET_USER_ID:"SET_USER_ID",SET_COTEACHERS:"SET_COTEACHERS",SET_EDITION_METADATA:"SET_EDITION_METADATA",SET_EDITION_QUESTIONS:"SET_EDITION_QUESTIONS",SET_WORKING_EDITION_QUESTIONS:"SET_WORKING_EDITION_QUESTIONS",SET_WORKING_EDITION_METADATA:"SET_WORKING_EDITION_METADATA",SET_INCOMPLETE_QUESTIONS:"SET_INCOMPLETE_QUESTIONS"};function lengthMatch(e,n,t,r){void 0===r&&(r={});var o=wordLengthCount(e),i=wordLengthCount(t),a=i+r.max,s=i+r.min,c=getMinMaxFeedback(r.min,r.max);return r.min&&o<s?{feedback:c,author:"Too Short Hint"}:r.max&&o>a?{feedback:c,author:"Too Long Hint"}:void 0}function lengthChecker(e,n,t,r){void 0===r&&(r={});var o=lengthMatch(e,n,t,r);if(o)return lengthResponseBuilder(n,getTopOptimalResponse(n).id,o.author,o.feedback)}function lengthResponseBuilder(e,n,t,r){return{optimal:!1,parent_id:n,author:t,feedback:r}}function wordLengthCount(e){return e.replace(/[^0-9a-z\s]/gi,"").replace(/\s{2,}/g," ").split(" ").length}function getMinMaxFeedback(e,n){return e===n?1===e?"Revise your work. Add one word to the prompt to make the sentence complete.":"Revise your work. Add "+constants$1.NUMBERS_AS_WORDS[e]+" words to the prompt to make the sentence complete.":"Revise your work. Add "+constants$1.NUMBERS_AS_WORDS[e]+" to "+constants$1.NUMBERS_AS_WORDS[n]+" words to the prompt to make the sentence complete."}function spacyPOSSentenceMatch(e,n,t){var r={method:"POST",body:JSON.stringify({text:e,question_id:n}),headers:{"Content-Type":"application/json"}};return fetch(t+"/get_pos_match",r).then(function(e){return e.json()}).then(function(e){return e.match})}function spacyPOSSentenceChecker(e,n,t,r){return void 0===r&&(r=spacyPOSSentenceMatch),__awaiter(this,void 0,void 0,function(){var o,i;return __generator(this,function(a){switch(a.label){case 0:return[4,r(e,n,t)];case 1:return o=a.sent(),(i=o?spacyPOSSentenceResponseBuilder(o):void 0)?[2,i]:[2]}})})}function spacyPOSSentenceResponseBuilder(e){return{author:"Parts of Speech",parent_id:e.id,optimal:e.optimal,feedback:e.feedback}}function checkSentenceFragment(e){return __awaiter(this,void 0,void 0,function(){var n,t,r,o;return __generator(this,function(i){switch(i.label){case 0:return n={response:e.response.trim(),responses:(void 0)(e.responses,function(e){return e.count}).reverse(),incorrectSequences:e.incorrectSequences,wordCountChange:e.wordCountChange,ignoreCaseAndPunc:e.ignoreCaseAndPunc,prompt:e.prompt,mlUrl:e.mlUrl,checkML:e.checkML,question_uid:e.question_uid},t={text:n.response,question_uid:e.question_uid,count:1},(r=checkForMatches$2(n,firstPassMatchers$2))?[2,Object.assign(t,r)]:[4,spacyPOSSentenceChecker(n.response,n.question_uid,n.mlUrl)];case 1:return(o=i.sent())?[2,Object.assign(t,o)]:[2,t]}})})}function firstPassMatchers$2(e,n){var t,r,o,i,a,s,c;return void 0===n&&(n=!1),__generator(this,function(n){switch(n.label){case 0:return t=e.response,r=e.responses,o=e.incorrectSequences,i=e.ignoreCaseAndPunc,a=e.wordCountChange,s=e.prompt,e.mlUrl,[4,exactMatch(c=t,r)];case 1:return n.sent(),[4,incorrectSequenceChecker(c,o,r)];case 2:return n.sent(),i?[3,12]:[4,lengthChecker(c,r,s,a)];case 3:return n.sent(),[4,punctuationEndChecker(c,r)];case 4:return n.sent(),[4,caseStartChecker(c,r)];case 5:return n.sent(),[4,caseInsensitiveChecker(c,r)];case 6:return n.sent(),[4,punctuationInsensitiveChecker(c,r)];case 7:return n.sent(),[4,punctuationAndCaseInsensitiveChecker(c,r)];case 8:return n.sent(),[4,spacingBeforePunctuationChecker(c,r)];case 9:return n.sent(),[4,spacingAfterCommaChecker(c,r)];case 10:return n.sent(),[4,requiredWordsChecker(c,r)];case 11:n.sent(),n.label=12;case 12:return[2]}})}function checkForMatches$2(e,n){for(var t=n(e),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}function checkFillInTheBlankQuestion(e,n,t){var r={response:n.trim(),responses:t},o={text:r.response,question_uid:e,count:1},i=checkForMatches$3(r,firstPassMatchers$3);return i?Object.assign(o,i):o}function firstPassMatchers$3(e){var n,t,r;return __generator(this,function(o){switch(o.label){case 0:return n=e.response,t=e.responses,e.focusPoints,[4,exactMatch(r=n,t)];case 1:return o.sent(),[4,caseInsensitiveChecker(r,t,!0)];case 2:return o.sent(),[2]}})}function checkForMatches$3(e,n){for(var t=n(e),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}function checkGrammarQuestion(e,n,t){var r={response:n.trim(),responses:t},o={text:r.response,question_uid:e,count:1},i=checkForMatches$4(r,firstPassMatchers$4);if(i)return Object.assign(o,i);var a=prepareSpellingData$1(r),s=checkForMatches$4(a,firstPassMatchers$4,!0);if(s){var c=getSpellingFeedback$1(s);return Object.assign(o,c,{text:r.response,spelling_error:!0})}var u=checkForMatches$4(a,secondPassMatchers$1);return u?Object.assign(o,u):o}function firstPassMatchers$4(e,n){var t,r,o,i;return void 0===n&&(n=!1),__generator(this,function(a){switch(a.label){case 0:return t=e.response,r=e.spellCorrectedResponse,o=e.responses,[4,exactMatch(i=n?r:t,o)];case 1:return a.sent(),[4,caseInsensitiveChecker(i,o)];case 2:return a.sent(),[4,punctuationInsensitiveChecker(i,o)];case 3:return a.sent(),[4,punctuationAndCaseInsensitiveChecker(i,o)];case 4:return a.sent(),[4,spacingBeforePunctuationChecker(i,o)];case 5:return a.sent(),[4,spacingAfterCommaChecker(i,o)];case 6:return a.sent(),[4,whitespaceChecker(i,o)];case 7:return a.sent(),[4,rigidChangeObjectChecker(i,o)];case 8:return a.sent(),[2]}})}function secondPassMatchers$1(e,n){var t,r;return void 0===n&&(n=!1),__generator(this,function(n){switch(n.label){case 0:return t=e.response,r=e.responses,[4,flexibleChangeObjectChecker(t,r)];case 1:return n.sent(),[4,caseStartChecker(t,r)];case 2:return n.sent(),[4,punctuationEndChecker(t,r)];case 3:return n.sent(),[2]}})}function checkForMatches$4(e,n,t){void 0===t&&(t=!1);for(var r=n(e,t),o=r.next();!o.value&&!o.done;)o=r.next();if(o.value)return o.value}function prepareSpellingData$1(e){var n=Object.assign({},e),t=getOptimalResponses(e.responses).map(function(e){return e.text});return n.spellCorrectedResponse=lib_4(t,e.response,!1),n}function getSpellingFeedback$1(e){var n=(void 0)(e,"count","child_count","created_at","first_attempt_count","key","optimal");return n.parent_id?n.feedback=spellingFeedbackStrings[n.author]:(n.author="Spelling Hint",n.feedback=spellingFeedbackStrings["Spelling Hint"],n.parent_id=n.id,delete n.id),n}exports.checkSentenceCombining=checkSentenceCombining,exports.checkDiagnosticQuestion=checkDiagnosticQuestion,exports.checkSentenceFragment=checkSentenceFragment,exports.checkFillInTheBlankQuestion=checkFillInTheBlankQuestion,exports.checkGrammarQuestion=checkGrammarQuestion;
