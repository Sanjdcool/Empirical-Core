/*!
 * {LIB} v0.4.0
 * (c) 2018 {NAME}
 * Released under the MIT License.
 */
"use strict";function __awaiter(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,s)}c((r=r.apply(e,n||[])).next())})}function __generator(e,n){function t(t){return function(a){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){s.label=t[1];break}if(6===t[0]&&s.label<i[1]){s.label=i[1],i=t;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(t);break}i[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(e,s)}catch(e){t=[6,e],o=0}finally{r=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,a])}}var r,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,n){return e(n={exports:{}},n.exports),n.exports}function getOptimalResponses(e){return underscore_4(e,{optimal:!0})}function getSubOptimalResponses(e){return underscore_6(e,function(e){return void 0==e.parent_id&&void 0!==e.feedback&&0==e.optimal})}function getTopOptimalResponse(e){var n=underscore_1(getOptimalResponses(e),function(e){return e.count}).reverse()[0];if(void 0===n)throw"DataError - No Optimal Response";return n}function exactMatch(e,n){return underscore_5(n,function(n){return lib_1$1(n.text)===lib_1$1(e)})}function conceptResultTemplate(e,n){return void 0===n&&(n=!1),{conceptUID:e,correct:n}}function focusPointMatchHelper(e,n){return n.split("&&").every(function(n){return new RegExp(n,"i").test(e)})}function focusPointMatch(e,n){return underscore_5(n,function(n){var t=n.text.split("|||");return!underscore_7(t,function(n){return focusPointMatchHelper(e,n)})})}function focusPointChecker(e,n,t){var r=focusPointMatch(e,n);if(r)return focusPointResponseBuilder(r,t)}function focusPointResponseBuilder(e,n){var t={feedback:e.feedback,author:"Focus Point Hint",parent_id:getTopOptimalResponse(n).id};return e.concept_uid&&(t.concept_results=[conceptResultTemplate(e.concept_uid)]),e.concept_results&&(t.concept_results=e.concept_results),t}function incorrectSequenceMatchHelper(e,n){return n.split("&&").every(function(n){return new RegExp(n).test(e)})}function incorrectSequenceMatch(e,n){return underscore_5(n,function(n){var t=n.text.split("|||");return underscore_7(t,function(n){return incorrectSequenceMatchHelper(e,n)})})}function incorrectSequenceChecker(e,n,t){var r=incorrectSequenceMatch(e,n);if(r)return incorrectSequenceResponseBuilder(r,t)}function incorrectSequenceResponseBuilder(e,n){var t={feedback:e.feedback,author:"Incorrect Sequence Hint",parent_id:getTopOptimalResponse(n).id};return e.concept_results&&(t.concept_results=e.concept_results),t}function caseInsensitiveMatch(e,n){return underscore_5(getOptimalResponses(n),function(n){return lib_1$1(n.text).toLowerCase()===lib_1$1(e).toLowerCase()})}function caseInsensitiveChecker(e,n,t){void 0===t&&(t=!1);var r=caseInsensitiveMatch(e,n);if(r)return caseInsensitiveResponseBuilder(n,r.id,t?r.concept_results:null)}function caseInsensitiveResponseBuilder(e,n,t){return{feedback:feedbackStrings.caseError,author:"Capitalization Hint",parent_id:n,concept_results:t||[conceptResultTemplate("66upe3S5uvqxuHoHOt4PcQ")]}}function removePunctuation(e){return e.replace(/[^A-Za-z0-9\s]/g,"")}function punctuationInsensitiveMatch(e,n){return underscore_5(getOptimalResponses(n),function(n){return removePunctuation(lib_1$1(n.text))===removePunctuation(lib_1$1(e))})}function punctuationInsensitiveChecker(e,n,t){void 0===t&&(t=!1);var r=punctuationInsensitiveMatch(e,n);if(r)return punctuationInsensitiveResponseBuilder(n,r.id,t?r.concept_results:null)}function punctuationInsensitiveResponseBuilder(e,n,t){return{feedback:feedbackStrings.punctuationError,author:"Punctuation Hint",parent_id:n,concept_results:t||[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function punctuationAndCaseInsensitiveMatch(e,n){return underscore_5(getOptimalResponses(n),function(n){return removePunctuation$1(lib_1$1(e)).toLowerCase()===removePunctuation$1(lib_1$1(n.text)).toLowerCase()})}function removePunctuation$1(e){return e.replace(/[^A-Za-z0-9\s]/g,"")}function punctuationAndCaseInsensitiveChecker(e,n,t){void 0===t&&(t=!1);var r=punctuationAndCaseInsensitiveMatch(e,n);if(r)return punctuationAndCaseInsensitiveResponseBuilder(n,r.id,t?r.concept_results:null)}function punctuationAndCaseInsensitiveResponseBuilder(e,n,t){return{feedback:feedbackStrings.punctuationAndCaseError,author:"Punctuation and Case Hint",parent_id:n,concept_results:t||[conceptResultTemplate("66upe3S5uvqxuHoHOt4PcQ"),conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function getFeedbackForPunc(e){return"<p>Revise your sentence. You don't need to have a space before a <em>"+subStringsToText[e]+"</em>.</p>"}function checkForSpacingError(e){return underscore_5(subStrings,function(n){return-1!==e.indexOf(n)})}function spacingBeforePunctuation(e){var n=checkForSpacingError(e);return n?{feedback:getFeedbackForPunc(n)}:void 0}function spacingBeforePunctuationMatch(e){return spacingBeforePunctuation(e)}function spacingBeforePunctuationChecker(e,n){var t=spacingBeforePunctuationMatch(e);if(t)return spacingBeforePunctuationResponseBuilder(n,t.feedback)}function spacingBeforePunctuationResponseBuilder(e,n){return{feedback:n,author:"Punctuation Hint",parent_id:getTopOptimalResponse(e)?getTopOptimalResponse(e).id:void 0,concept_results:[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function spacingAfterCommaMatch(e){for(var n=0;n<e.length;n++)if(","===e[n]&&n+1<e.length){var t=e[n-1],r=e[n+1];if(" "!==r&&t&&!t.match(/\d/)&&r&&!r.match(/\d/))return!0}return!1}function spacingAfterCommaChecker(e,n){if(spacingAfterCommaMatch(e))return spacingAfterCommaResponseBuilder(n)}function spacingAfterCommaResponseBuilder(e){return{feedback:feedbackStrings.spacingAfterCommaError,author:"Spacing After Comma Hint",parent_id:getTopOptimalResponse(e)?getTopOptimalResponse(e).id:void 0,concept_results:[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function whitespaceMatch(e,n){return underscore_5(getOptimalResponses(n),function(n){return removeSpaces(lib_1$1(e))===removeSpaces(lib_1$1(n.text))})}function whitespaceChecker(e,n){var t=whitespaceMatch(e,n);if(t)return whitespaceResponseBuilder(n,t.id)}function whitespaceResponseBuilder(e,n){return{feedback:feedbackStrings.whitespaceError,author:"Whitespace Hint",parent_id:n,concept_results:[conceptResultTemplate("5Yv4-kNHwwCO2p8HI90oqQ")]}}function getFeedbackForMissingWord(e){if(e){var n=data[cleanMissingWord(e)];if(n)return n.feedback}}function cleanMissingWord(e){return e.trim().toLowerCase()}function sortByLevenshteinAndOptimal(e,n){return n.forEach(function(n){n.levenshtein=new Levenshtein(n.text,e).distance}),n.sort(function(e,n){var t=Number(e.levenshtein),r=Number(n.levenshtein);return t-r!=0?t-r:e.optimal===n.optimal?0:e.optimal?-1:1})}function rigidChangeObjectChecker(e,n){var t=rigidChangeObjectMatch(e,n);if(t)return rigidChangeObjectMatchResponseBuilder(t)}function flexibleChangeObjectChecker(e,n){var t=flexibleChangeObjectMatch(e,n);if(t)return flexibleChangeObjectMatchResponseBuilder(t)}function levenshteinMatchObjectChecker(e,n){var t=levenshteinChangeObjectMatch(e,n);if(t)return rigidChangeObjectMatchResponseBuilder(t,!0)}function rigidChangeObjectMatchResponseBuilder(e,n){void 0===n&&(n=!1);var t={};switch(e.errorType){case ERROR_TYPES.INCORRECT_WORD:var r=getFeedbackForMissingWord(e.missingText);return t.feedback=r||feedbackStrings.modifiedWordError,t.author="Modified Word Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("H-2lrblngQAQ8_s-ctye4g")],t;case ERROR_TYPES.MISSPELLED_WORD:return t.feedback=spellingFeedbackStrings["Spelling Hint"],t.author="Spelling Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("H-2lrblngQAQ8_s-ctye4g")],t;case ERROR_TYPES.ADDITIONAL_WORD:return t.feedback=feedbackStrings.additionalWordError,t.author="Additional Word Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("QYHg1tpDghy5AHWpsIodAg")],t;case ERROR_TYPES.MISSING_WORD:return t.feedback=feedbackStrings.missingWordError,t.author="Missing Word Hint",t.parent_id=e.response.key,t.concept_results=n?e.response.concept_results:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")],t;default:return}}function flexibleChangeObjectMatchResponseBuilder(e){var n=rigidChangeObjectMatchResponseBuilder(e);return n.author="Flexible "+n.author,n}function rigidChangeObjectMatch(e,n){return checkChangeObjectMatch(e,getOptimalResponses(n),function(e){return lib_1$1(e)})}function flexibleChangeObjectMatch(e,n){return checkChangeObjectMatch(e,getOptimalResponses(n),function(e){return removePunctuation(lib_1$1(e)).toLowerCase()})}function levenshteinChangeObjectMatch(e,n){return checkChangeObjectMatch(e,getOptimalResponses(sortByLevenshteinAndOptimal(e,getOptimalResponses(n).concat(getSubOptimalResponses(n)))),function(e){return lib_1$1(e)})}function checkChangeObjectMatch(e,n,t,r){var o;void 0===r&&(r=!1),r||(n=underscore_1(n,"count").reverse());var i=underscore_5(n,function(r){return o=getErrorType(t(r.text),t(e),n)});if(i){var a=getMissingAndAddedString(i.text,e);return Object.assign({},{response:i,errorType:o},a)}}function getCommonWords(e){var n=underscore_8(e,function(e){return normalizeString(e).split(" ")});return underscore_9.apply(_,n)}function getCommonWordsWithImportantPOS(e){return getCommonWords(e)}function getMissingWords(e,n){var t=getCommonWordsWithImportantPOS(n),r=normalizeString(e).split(" ");return underscore_2(t,function(e){return underscore_10(r,e)})}function _getCaseSensitiveWord(e,n){var t=removePunctuation$2(n),r=normalizeString(n).indexOf(e);return t.substring(r,e.length+r)}function getFeedbackForWord(e,n,t){return t?"<p>Revise your work. Use all the words from the prompt, and make it complete by adding to it.</p>":"<p>Revise your sentence to include the word <em>"+_getCaseSensitiveWord(e,n[0])+"</em>. You may have misspelled it.</p>"}function extractSentencesFromResponses(e){return e.map(function(e){return e.text})}function getMissingWordsFromResponses(e,n){var t=getMissingWords(e,n);return underscore_1(t,function(e){return e.length}).reverse()}function checkForMissingWords(e,n,t){void 0===t&&(t=!1);var r=extractSentencesFromResponses(n),o=getMissingWordsFromResponses(e,r);if(o.length>0)return{feedback:getFeedbackForWord(o[0],r,t)}}function normalizeString(e){return void 0===e&&(e=""),e.replace(/[.,?!;]/g,"").toLowerCase()}function removePunctuation$2(e){return void 0===e&&(e=""),e.replace(/[.,?!;]/g,"")}function requiredWordsMatch(e,n){return checkForMissingWords(e,getOptimalResponses(n))}function requiredWordsChecker(e,n){var t=requiredWordsMatch(e,n);if(t)return requiredWordsResponseBuilder(n,t.feedback)}function requiredWordsResponseBuilder(e,n){return{feedback:n,author:"Required Words Hint",parent_id:getTopOptimalResponse(e).id,concept_results:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")]}}function minLengthMatch(e,n){var t=getOptimalResponses(n);if(!(t.length<2)){var r=t.map(function(e){return lib_1$1(e.text).split(" ").length}),o=underscore_12(r)-1;return e.split(" ").length<o}}function minLengthChecker(e,n,t){if(void 0===t&&(t=!1),minLengthMatch(e,n))return minLengthResponseBuilder(n,t)}function minLengthResponseBuilder(e,n){var t=getOptimalResponses(e),r=underscore_1(t,function(e){return lib_1$1(e.text).length})[0];return{feedback:feedbackStrings.minLengthError,author:"Missing Details Hint",parent_id:r.key,concept_results:n?void 0:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")]}}function maxLengthMatch(e,n){var t=getOptimalResponses(n);if(t.length<2)return!1;var r=t.map(function(e){return lib_1$1(e.text).split(" ").length}),o=underscore_13(r)+1;return e.split(" ").length>o}function maxLengthChecker(e,n){if(maxLengthMatch(e,n))return maxLengthResponseBuilder(n)}function maxLengthResponseBuilder(e){var n=getOptimalResponses(e),t=underscore_1(n,function(e){return lib_1$1(e.text).length}).reverse()[0];return{feedback:feedbackStrings.maxLengthError,author:"Not Concise Hint",parent_id:t.key,concept_results:[conceptResultTemplate("QYHg1tpDghy5AHWpsIodAg")]}}function caseStartMatch(e,n){return/^[a-z]/.test(e)}function caseStartChecker(e,n){if(caseStartMatch(e,n))return caseStartResponseBuilder(n)}function caseStartResponseBuilder(e){return{feedback:feedbackStrings.caseError,author:"Capitalization Hint",parent_id:getTopOptimalResponse(e).id,concept_results:[conceptResultTemplate("S76ceOpAWR-5m-k47nu6KQ")]}}function punctuationEndMatch(e,n){var t=e[e.length-1];return!(!t||!t.match(/[a-z]/i))}function punctuationEndChecker(e,n,t){if(void 0===t&&(t=!1),punctuationEndMatch(e,n))return punctuationEndResponseBuilder(n,t)}function punctuationEndResponseBuilder(e,n){var t={feedback:feedbackStrings.punctuationError,author:"Punctuation End Hint",parent_id:getTopOptimalResponse(e).id,concept_results:[conceptResultTemplate("JVJhNIHGZLbHF6LYw605XA")]};return n&&(t.optimal=!1),t}function checkSentenceCombining(e,n,t,r,o){var i={response:n.trim(),responses:t,focusPoints:r,incorrectSequences:o},a={text:i.response,question_uid:e,count:1},s=checkForMatches(i,firstPassMatchers);if(s)return Object.assign(a,s);var c=prepareSpellingData(i),u=checkForMatches(c,firstPassMatchers,!0);if(u){var l=getSpellingFeedback(u);return Object.assign(a,l,{text:i.response,spelling_error:!0})}var f=checkForMatches(c,secondPassMatchers);return f?Object.assign(a,f):a}function firstPassMatchers(e,n){var t,r,o,i,a,s;return void 0===n&&(n=!1),__generator(this,function(c){switch(c.label){case 0:return t=e.response,r=e.spellCorrectedResponse,o=e.responses,i=e.focusPoints,a=e.incorrectSequences,[4,exactMatch(s=n?r:t,o)];case 1:return c.sent(),[4,focusPointChecker(s,i,o)];case 2:return c.sent(),[4,incorrectSequenceChecker(s,a,o)];case 3:return c.sent(),[4,caseInsensitiveChecker(s,o)];case 4:return c.sent(),[4,punctuationInsensitiveChecker(s,o)];case 5:return c.sent(),[4,punctuationAndCaseInsensitiveChecker(s,o)];case 6:return c.sent(),[4,spacingBeforePunctuationChecker(s,o)];case 7:return c.sent(),[4,spacingAfterCommaChecker(s,o)];case 8:return c.sent(),[4,whitespaceChecker(s,o)];case 9:return c.sent(),[4,rigidChangeObjectChecker(s,o)];case 10:return c.sent(),[2]}})}function secondPassMatchers(e,n){var t,r,o;return void 0===n&&(n=!1),__generator(this,function(n){switch(n.label){case 0:return t=e.response,r=e.spellCorrectedResponse,o=e.responses,e.incorrectSequences,[4,flexibleChangeObjectChecker(t,o)];case 1:return n.sent(),[4,requiredWordsChecker(r,o)];case 2:return n.sent(),[4,minLengthChecker(t,o)];case 3:return n.sent(),[4,maxLengthChecker(t,o)];case 4:return n.sent(),[4,caseStartChecker(t,o)];case 5:return n.sent(),[4,punctuationEndChecker(t,o)];case 6:return n.sent(),[2]}})}function checkForMatches(e,n,t){void 0===t&&(t=!1);for(var r=n(e,t),o=r.next();!o.value&&!o.done;)o=r.next();if(o.value)return o.value}function prepareSpellingData(e){var n=Object.assign({},e),t=getOptimalResponses(e.responses).map(function(e){return e.text});return n.spellCorrectedResponse=lib_4(t,e.response,!1),n}function getSpellingFeedback(e){var n=underscore_15(e,"count","child_count","created_at","first_attempt_count","key","optimal");return n.parent_id?n.feedback=spellingFeedbackStrings[n.author]:(n.author="Spelling Hint",n.feedback=spellingFeedbackStrings["Spelling Hint"],n.parent_id=n.id,delete n.id),n}function checkDiagnosticQuestion(e,n,t){var r={response:n.trim(),responses:t},o={text:r.response,question_uid:e,count:1,gradeIndex:"nonhuman"+e},i=checkForMatches$1(r,firstPassMatchers$1);return i?Object.assign(o,i):(o.gradeIndex="unmarked"+e,o)}function firstPassMatchers$1(e){var n,t,r;return __generator(this,function(o){switch(o.label){case 0:return n=e.response,t=e.responses,e.incorrectSequences,[4,exactMatch(r=n,t)];case 1:return o.sent(),[4,caseInsensitiveChecker(r,t,!0)];case 2:return o.sent(),[4,punctuationInsensitiveChecker(r,t,!0)];case 3:return o.sent(),[4,punctuationAndCaseInsensitiveChecker(r,t,!0)];case 4:return o.sent(),[4,minLengthChecker(r,t,!0)];case 5:return o.sent(),[4,levenshteinMatchObjectChecker(r,t)];case 6:return o.sent(),[4,whitespaceChecker(r,t)];case 7:return o.sent(),[2]}})}function checkForMatches$1(e,n){for(var t=n(e),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}function lengthMatch(e,n,t,r){void 0===r&&(r={});var o=wordLengthCount(e),i=wordLengthCount(t),a=i+r.max,s=i+r.min,c=getMinMaxFeedback(r.min,r.max);return r.min&&o<s?{feedback:c,author:"Too Short Hint"}:r.max&&o>a?{feedback:c,author:"Too Long Hint"}:void 0}function lengthChecker(e,n,t,r){void 0===r&&(r={});var o=lengthMatch(e,n,t,r);if(o)return lengthResponseBuilder(n,getTopOptimalResponse(n).id,o.author,o.feedback)}function lengthResponseBuilder(e,n,t,r){return{optimal:!1,parent_id:n,author:t,feedback:r}}function wordLengthCount(e){return e.replace(/[^0-9a-z\s]/gi,"").replace(/\s{2,}/g," ").split(" ").length}function getMinMaxFeedback(e,n){return e===n?1===e?"Revise your work. Add one word to the prompt to make the sentence complete.":"Revise your work. Add "+constants$1.NUMBERS_AS_WORDS[e]+" words to the prompt to make the sentence complete.":"Revise your work. Add "+constants$1.NUMBERS_AS_WORDS[e]+" to "+constants$1.NUMBERS_AS_WORDS[n]+" words to the prompt to make the sentence complete."}function spacyPOSSentenceMatch(e,n,t){var r={method:"POST",body:JSON.stringify({text:e,question_id:n}),headers:{"Content-Type":"application/json"}};return fetch(t+"/get_pos_match",r).then(function(e){return e.json()}).then(function(e){return e.match})}function spacyPOSSentenceChecker(e,n,t,r){return void 0===r&&(r=spacyPOSSentenceMatch),__awaiter(this,void 0,void 0,function(){var o,i;return __generator(this,function(a){switch(a.label){case 0:return[4,r(e,n,t)];case 1:return o=a.sent(),(i=o?spacyPOSSentenceResponseBuilder(o):void 0)?[2,i]:[2]}})})}function spacyPOSSentenceResponseBuilder(e){return{author:"Parts of Speech",parent_id:e.id,optimal:e.optimal,feedback:e.feedback}}function checkSentenceFragment(e){return __awaiter(this,void 0,void 0,function(){var n,t,r,o;return __generator(this,function(i){switch(i.label){case 0:return n={response:e.response.trim(),responses:underscore_1(e.responses,function(e){return e.count}).reverse(),incorrectSequences:e.incorrectSequences,wordCountChange:e.wordCountChange,ignoreCaseAndPunc:e.ignoreCaseAndPunc,prompt:e.prompt,mlUrl:e.mlUrl,checkML:e.checkML,question_uid:e.question_uid},t={text:n.response,question_uid:e.question_uid,count:1},(r=checkForMatches$2(n,firstPassMatchers$2))?[2,Object.assign(t,r)]:[4,spacyPOSSentenceChecker(n.response,n.question_uid,n.mlUrl)];case 1:return(o=i.sent())?[2,Object.assign(t,o)]:[2,t]}})})}function firstPassMatchers$2(e,n){var t,r,o,i,a,s,c;return void 0===n&&(n=!1),__generator(this,function(n){switch(n.label){case 0:return t=e.response,r=e.responses,o=e.incorrectSequences,i=e.ignoreCaseAndPunc,a=e.wordCountChange,s=e.prompt,e.mlUrl,[4,exactMatch(c=t,r)];case 1:return n.sent(),[4,incorrectSequenceChecker(c,o,r)];case 2:return n.sent(),i?[3,12]:[4,lengthChecker(c,r,s,a)];case 3:return n.sent(),[4,punctuationEndChecker(c,r)];case 4:return n.sent(),[4,caseStartChecker(c,r)];case 5:return n.sent(),[4,caseInsensitiveChecker(c,r)];case 6:return n.sent(),[4,punctuationInsensitiveChecker(c,r)];case 7:return n.sent(),[4,punctuationAndCaseInsensitiveChecker(c,r)];case 8:return n.sent(),[4,spacingBeforePunctuationChecker(c,r)];case 9:return n.sent(),[4,spacingAfterCommaChecker(c,r)];case 10:return n.sent(),[4,requiredWordsChecker(c,r)];case 11:n.sent(),n.label=12;case 12:return[2]}})}function checkForMatches$2(e,n){for(var t=n(e),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}function checkFillInTheBlankQuestion(e,n,t){var r={response:n.trim(),responses:t},o={text:r.response,question_uid:e,count:1},i=checkForMatches$3(r,firstPassMatchers$3);return i?Object.assign(o,i):o}function firstPassMatchers$3(e){var n,t,r;return __generator(this,function(o){switch(o.label){case 0:return n=e.response,t=e.responses,e.focusPoints,[4,exactMatch(r=n,t)];case 1:return o.sent(),[4,caseInsensitiveChecker(r,t,!0)];case 2:return o.sent(),[2]}})}function checkForMatches$3(e,n){for(var t=n(e),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}function checkGrammarQuestion(e,n,t){var r={response:n.trim(),responses:t},o={text:r.response,question_uid:e,count:1},i=checkForMatches$4(r,firstPassMatchers$4);if(i)return Object.assign(o,i);var a=prepareSpellingData$1(r),s=checkForMatches$4(a,firstPassMatchers$4,!0);if(s){var c=getSpellingFeedback$1(s);return Object.assign(o,c,{text:r.response,spelling_error:!0})}var u=checkForMatches$4(a,secondPassMatchers$1);return u?Object.assign(o,u):o}function firstPassMatchers$4(e,n){var t,r,o,i;return void 0===n&&(n=!1),__generator(this,function(a){switch(a.label){case 0:return t=e.response,r=e.spellCorrectedResponse,o=e.responses,[4,exactMatch(i=n?r:t,o)];case 1:return a.sent(),[4,caseInsensitiveChecker(i,o)];case 2:return a.sent(),[4,punctuationInsensitiveChecker(i,o)];case 3:return a.sent(),[4,punctuationAndCaseInsensitiveChecker(i,o)];case 4:return a.sent(),[4,spacingBeforePunctuationChecker(i,o)];case 5:return a.sent(),[4,spacingAfterCommaChecker(i,o)];case 6:return a.sent(),[4,whitespaceChecker(i,o)];case 7:return a.sent(),[4,rigidChangeObjectChecker(i,o)];case 8:return a.sent(),[2]}})}function secondPassMatchers$1(e,n){var t,r;return void 0===n&&(n=!1),__generator(this,function(n){switch(n.label){case 0:return t=e.response,r=e.responses,[4,flexibleChangeObjectChecker(t,r)];case 1:return n.sent(),[4,caseStartChecker(t,r)];case 2:return n.sent(),[4,punctuationEndChecker(t,r)];case 3:return n.sent(),[2]}})}function checkForMatches$4(e,n,t){void 0===t&&(t=!1);for(var r=n(e,t),o=r.next();!o.value&&!o.done;)o=r.next();if(o.value)return o.value}function prepareSpellingData$1(e){var n=Object.assign({},e),t=getOptimalResponses(e.responses).map(function(e){return e.text});return n.spellCorrectedResponse=lib_4(t,e.response,!1),n}function getSpellingFeedback$1(e){var n=underscore_15(e,"count","child_count","created_at","first_attempt_count","key","optimal");return n.parent_id?n.feedback=spellingFeedbackStrings[n.author]:(n.author="Spelling Hint",n.feedback=spellingFeedbackStrings["Spelling Hint"],n.parent_id=n.id,delete n.id),n}Object.defineProperty(exports,"__esModule",{value:!0});var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},underscore=createCommonjsModule(function(e,n){!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof commonjsGlobal&&commonjsGlobal.global===commonjsGlobal&&commonjsGlobal||this||{},r=t._,o=Array.prototype,i=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,s=o.push,c=o.slice,u=i.toString,l=i.hasOwnProperty,f=Array.isArray,d=Object.keys,p=Object.create,E=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};n.nodeType?t._=_:(!e.nodeType&&e.exports&&(n=e.exports=_),n._=_),_.VERSION="1.9.1";var h,S=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 3:return function(t,r,o){return e.call(n,t,r,o)};case 4:return function(t,r,o,i){return e.call(n,t,r,o,i)}}return function(){return e.apply(n,arguments)}},g=function(e,n,t){return _.iteratee!==h?_.iteratee(e,n):null==e?_.identity:_.isFunction(e)?S(e,n,t):_.isObject(e)&&!_.isArray(e)?_.matcher(e):_.property(e)};_.iteratee=h=function(e,n){return g(e,n,1/0)};var T=function(e,n){return n=null==n?e.length-1:+n,function(){for(var t=Math.max(arguments.length-n,0),r=Array(t),o=0;o<t;o++)r[o]=arguments[o+n];switch(n){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(n+1);for(o=0;o<n;o++)i[o]=arguments[o];return i[n]=r,e.apply(this,i)}},v=function(e){if(!_.isObject(e))return{};if(p)return p(e);E.prototype=e;var n=new E;return E.prototype=null,n},m=function(e){return function(n){return null==n?void 0:n[e]}},I=function(e,n){return null!=e&&l.call(e,n)},O=function(e,n){for(var t=n.length,r=0;r<t;r++){if(null==e)return;e=e[n[r]]}return t?e:void 0},N=Math.pow(2,53)-1,A=m("length"),R=function(e){var n=A(e);return"number"==typeof n&&n>=0&&n<=N};_.each=_.forEach=function(e,n,t){var r,o;if(n=S(n,t),R(e))for(r=0,o=e.length;r<o;r++)n(e[r],r,e);else{var i=_.keys(e);for(r=0,o=i.length;r<o;r++)n(e[i[r]],i[r],e)}return e},_.map=_.collect=function(e,n,t){n=g(n,t);for(var r=!R(e)&&_.keys(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=n(e[s],s,e)}return i};var C=function(e){return function(n,t,r,o){var i=arguments.length>=3;return function(n,t,r,o){var i=!R(n)&&_.keys(n),a=(i||n).length,s=e>0?0:a-1;for(o||(r=n[i?i[s]:s],s+=e);s>=0&&s<a;s+=e){var c=i?i[s]:s;r=t(r,n[c],c,n)}return r}(n,S(t,o,4),r,i)}};_.reduce=_.foldl=_.inject=C(1),_.reduceRight=_.foldr=C(-1),_.find=_.detect=function(e,n,t){var r=(R(e)?_.findIndex:_.findKey)(e,n,t);if(void 0!==r&&-1!==r)return e[r]},_.filter=_.select=function(e,n,t){var r=[];return n=g(n,t),_.each(e,function(e,t,o){n(e,t,o)&&r.push(e)}),r},_.reject=function(e,n,t){return _.filter(e,_.negate(g(n)),t)},_.every=_.all=function(e,n,t){n=g(n,t);for(var r=!R(e)&&_.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!n(e[a],a,e))return!1}return!0},_.some=_.any=function(e,n,t){n=g(n,t);for(var r=!R(e)&&_.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(n(e[a],a,e))return!0}return!1},_.contains=_.includes=_.include=function(e,n,t,r){return R(e)||(e=_.values(e)),("number"!=typeof t||r)&&(t=0),_.indexOf(e,n,t)>=0},_.invoke=T(function(e,n,t){var r,o;return _.isFunction(n)?o=n:_.isArray(n)&&(r=n.slice(0,-1),n=n[n.length-1]),_.map(e,function(e){var i=o;if(!i){if(r&&r.length&&(e=O(e,r)),null==e)return;i=e[n]}return null==i?i:i.apply(e,t)})}),_.pluck=function(e,n){return _.map(e,_.property(n))},_.where=function(e,n){return _.filter(e,_.matcher(n))},_.findWhere=function(e,n){return _.find(e,_.matcher(n))},_.max=function(e,n,t){var r,o,i=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=R(e)?e:_.values(e)).length;s<c;s++)null!=(r=e[s])&&r>i&&(i=r);else n=g(n,t),_.each(e,function(e,t,r){((o=n(e,t,r))>a||o===-1/0&&i===-1/0)&&(i=e,a=o)});return i},_.min=function(e,n,t){var r,o,i=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=R(e)?e:_.values(e)).length;s<c;s++)null!=(r=e[s])&&r<i&&(i=r);else n=g(n,t),_.each(e,function(e,t,r){((o=n(e,t,r))<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},_.shuffle=function(e){return _.sample(e,1/0)},_.sample=function(e,n,t){if(null==n||t)return R(e)||(e=_.values(e)),e[_.random(e.length-1)];var r=R(e)?_.clone(e):_.values(e),o=A(r);n=Math.max(Math.min(n,o),0);for(var i=o-1,a=0;a<n;a++){var s=_.random(a,i),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,n)},_.sortBy=function(e,n,t){var r=0;return n=g(n,t),_.pluck(_.map(e,function(e,t,o){return{value:e,index:r++,criteria:n(e,t,o)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(t<r||void 0===r)return-1}return e.index-n.index}),"value")};var y=function(e,n){return function(t,r,o){var i=n?[[],[]]:{};return r=g(r,o),_.each(t,function(n,o){var a=r(n,o,t);e(i,n,a)}),i}};_.groupBy=y(function(e,n,t){I(e,t)?e[t].push(n):e[t]=[n]}),_.indexBy=y(function(e,n,t){e[t]=n}),_.countBy=y(function(e,n,t){I(e,t)?e[t]++:e[t]=1});var b=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(e){return e?_.isArray(e)?c.call(e):_.isString(e)?e.match(b):R(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:R(e)?e.length:_.keys(e).length},_.partition=y(function(e,n,t){e[t?0:1].push(n)},!0),_.first=_.head=_.take=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[0]:_.initial(e,e.length-n)},_.initial=function(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},_.last=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[e.length-1]:_.rest(e,Math.max(0,e.length-n))},_.rest=_.tail=_.drop=function(e,n,t){return c.call(e,null==n||t?1:n)},_.compact=function(e){return _.filter(e,Boolean)};var L=function(e,n,t,r){for(var o=(r=r||[]).length,i=0,a=A(e);i<a;i++){var s=e[i];if(R(s)&&(_.isArray(s)||_.isArguments(s)))if(n)for(var c=0,u=s.length;c<u;)r[o++]=s[c++];else L(s,n,t,r),o=r.length;else t||(r[o++]=s)}return r};_.flatten=function(e,n){return L(e,n,!1)},_.without=T(function(e,n){return _.difference(e,n)}),_.uniq=_.unique=function(e,n,t,r){_.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=g(t,r));for(var o=[],i=[],a=0,s=A(e);a<s;a++){var c=e[a],u=t?t(c,a,e):c;n&&!t?(a&&i===u||o.push(c),i=u):t?_.contains(i,u)||(i.push(u),o.push(c)):_.contains(o,c)||o.push(c)}return o},_.union=T(function(e){return _.uniq(L(e,!0,!0))}),_.intersection=function(e){for(var n=[],t=arguments.length,r=0,o=A(e);r<o;r++){var i=e[r];if(!_.contains(n,i)){var a;for(a=1;a<t&&_.contains(arguments[a],i);a++);a===t&&n.push(i)}}return n},_.difference=T(function(e,n){return n=L(n,!0,!0),_.filter(e,function(e){return!_.contains(n,e)})}),_.unzip=function(e){for(var n=e&&_.max(e,A).length||0,t=Array(n),r=0;r<n;r++)t[r]=_.pluck(e,r);return t},_.zip=T(_.unzip),_.object=function(e,n){for(var t={},r=0,o=A(e);r<o;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t};var D=function(e){return function(n,t,r){t=g(t,r);for(var o=A(n),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(t(n[i],i,n))return i;return-1}};_.findIndex=D(1),_.findLastIndex=D(-1),_.sortedIndex=function(e,n,t,r){for(var o=(t=g(t,r,1))(n),i=0,a=A(e);i<a;){var s=Math.floor((i+a)/2);t(e[s])<o?i=s+1:a=s}return i};var k=function(e,n,t){return function(r,o,i){var a=0,s=A(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(t&&i&&s)return r[i=t(r,o)]===o?i:-1;if(o!=o)return(i=n(c.call(r,a,s),_.isNaN))>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&i<s;i+=e)if(r[i]===o)return i;return-1}};_.indexOf=k(1,_.findIndex,_.sortedIndex),_.lastIndexOf=k(-1,_.findLastIndex),_.range=function(e,n,t){null==n&&(n=e||0,e=0),t||(t=n<e?-1:1);for(var r=Math.max(Math.ceil((n-e)/t),0),o=Array(r),i=0;i<r;i++,e+=t)o[i]=e;return o},_.chunk=function(e,n){if(null==n||n<1)return[];for(var t=[],r=0,o=e.length;r<o;)t.push(c.call(e,r,r+=n));return t};var w=function(e,n,t,r,o){if(!(r instanceof n))return e.apply(t,o);var i=v(e.prototype),a=e.apply(i,o);return _.isObject(a)?a:i};_.bind=T(function(e,n,t){if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var r=T(function(o){return w(e,r,n,this,t.concat(o))});return r}),_.partial=T(function(e,n){var t=_.partial.placeholder,r=function(){for(var o=0,i=n.length,a=Array(i),s=0;s<i;s++)a[s]=n[s]===t?arguments[o++]:n[s];for(;o<arguments.length;)a.push(arguments[o++]);return w(e,r,this,this,a)};return r}),_.partial.placeholder=_,_.bindAll=T(function(e,n){var t=(n=L(n,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=n[t];e[r]=_.bind(e[r],e)}}),_.memoize=function(e,n){var t=function(r){var o=t.cache,i=""+(n?n.apply(this,arguments):r);return I(o,i)||(o[i]=e.apply(this,arguments)),
o[i]};return t.cache={},t},_.delay=T(function(e,n,t){return setTimeout(function(){return e.apply(null,t)},n)}),_.defer=_.partial(_.delay,_,1),_.throttle=function(e,n,t){var r,o,i,a,s=0;t||(t={});var c=function(){s=!1===t.leading?0:_.now(),r=null,a=e.apply(o,i),r||(o=i=null)},u=function(){var u=_.now();s||!1!==t.leading||(s=u);var l=n-(u-s);return o=this,i=arguments,l<=0||l>n?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(o,i),r||(o=i=null)):r||!1===t.trailing||(r=setTimeout(c,l)),a};return u.cancel=function(){clearTimeout(r),s=0,r=o=i=null},u},_.debounce=function(e,n,t){var r,o,i=function(n,t){r=null,t&&(o=e.apply(n,t))},a=T(function(a){if(r&&clearTimeout(r),t){var s=!r;r=setTimeout(i,n),s&&(o=e.apply(this,a))}else r=_.delay(i,n,this,a);return o});return a.cancel=function(){clearTimeout(r),r=null},a},_.wrap=function(e,n){return _.partial(n,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},_.after=function(e,n){return function(){if(--e<1)return n.apply(this,arguments)}},_.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}},_.once=_.partial(_.before,2),_.restArguments=T;var M=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],x=function(e,n){var t=P.length,r=e.constructor,o=_.isFunction(r)&&r.prototype||i,a="constructor";for(I(e,a)&&!_.contains(n,a)&&n.push(a);t--;)(a=P[t])in e&&e[a]!==o[a]&&!_.contains(n,a)&&n.push(a)};_.keys=function(e){if(!_.isObject(e))return[];if(d)return d(e);var n=[];for(var t in e)I(e,t)&&n.push(t);return M&&x(e,n),n},_.allKeys=function(e){if(!_.isObject(e))return[];var n=[];for(var t in e)n.push(t);return M&&x(e,n),n},_.values=function(e){for(var n=_.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=e[n[o]];return r},_.mapObject=function(e,n,t){n=g(n,t);for(var r=_.keys(e),o=r.length,i={},a=0;a<o;a++){var s=r[a];i[s]=n(e[s],s,e)}return i},_.pairs=function(e){for(var n=_.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=[n[o],e[n[o]]];return r},_.invert=function(e){for(var n={},t=_.keys(e),r=0,o=t.length;r<o;r++)n[e[t[r]]]=t[r];return n},_.functions=_.methods=function(e){var n=[];for(var t in e)_.isFunction(e[t])&&n.push(t);return n.sort()};var F=function(e,n){return function(t){var r=arguments.length;if(n&&(t=Object(t)),r<2||null==t)return t;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),s=a.length,c=0;c<s;c++){var u=a[c];n&&void 0!==t[u]||(t[u]=i[u])}return t}};_.extend=F(_.allKeys),_.extendOwn=_.assign=F(_.keys),_.findKey=function(e,n,t){n=g(n,t);for(var r,o=_.keys(e),i=0,a=o.length;i<a;i++)if(n(e[r=o[i]],r,e))return r};var W,G,U=function(e,n,t){return n in t};_.pick=T(function(e,n){var t={},r=n[0];if(null==e)return t;_.isFunction(r)?(n.length>1&&(r=S(r,n[1])),n=_.allKeys(e)):(r=U,n=L(n,!1,!1),e=Object(e));for(var o=0,i=n.length;o<i;o++){var a=n[o],s=e[a];r(s,a,e)&&(t[a]=s)}return t}),_.omit=T(function(e,n){var t,r=n[0];return _.isFunction(r)?(r=_.negate(r),n.length>1&&(t=n[1])):(n=_.map(L(n,!1,!1),String),r=function(e,t){return!_.contains(n,t)}),_.pick(e,r,t)}),_.defaults=F(_.allKeys,!0),_.create=function(e,n){var t=v(e);return n&&_.extendOwn(t,n),t},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,n){return n(e),e},_.isMatch=function(e,n){var t=_.keys(n),r=t.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=t[i];if(n[a]!==o[a]||!(a in o))return!1}return!0},W=function(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;return("function"===o||"object"===o||"object"==typeof n)&&G(e,n,t,r)},G=function(e,n,t,r){e instanceof _&&(e=e._wrapped),n instanceof _&&(n=n._wrapped);var o=u.call(e);if(o!==u.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return a.valueOf.call(e)===a.valueOf.call(n)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,c=n.constructor;if(s!==c&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],r=r||[];for(var l=t.length;l--;)if(t[l]===e)return r[l]===n;if(t.push(e),r.push(n),i){if((l=e.length)!==n.length)return!1;for(;l--;)if(!W(e[l],n[l],t,r))return!1}else{var f,d=_.keys(e);if(l=d.length,_.keys(n).length!==l)return!1;for(;l--;)if(f=d[l],!I(n,f)||!W(e[f],n[f],t,r))return!1}return t.pop(),r.pop(),!0},_.isEqual=function(e,n){return W(e,n)},_.isEmpty=function(e){return null==e||(R(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=f||function(e){return"[object Array]"===u.call(e)},_.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){_["is"+e]=function(n){return u.call(n)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return I(e,"callee")});var j=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof j&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return!_.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&isNaN(e)},_.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,n){if(!_.isArray(n))return I(e,n);for(var t=n.length,r=0;r<t;r++){var o=n[r];if(null==e||!l.call(e,o))return!1;e=e[o]}return!!t},_.noConflict=function(){return t._=r,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=function(e){return _.isArray(e)?function(n){return O(n,e)}:m(e)},_.propertyOf=function(e){return null==e?function(){}:function(n){return _.isArray(n)?O(e,n):e[n]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(n){return _.isMatch(n,e)}},_.times=function(e,n,t){var r=Array(Math.max(0,e));n=S(n,t,1);for(var o=0;o<e;o++)r[o]=n(o);return r},_.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=_.invert(B),Q=function(e){var n=function(n){return e[n]},t="(?:"+_.keys(e).join("|")+")",r=RegExp(t),o=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,n):e}};_.escape=Q(B),_.unescape=Q(H),_.result=function(e,n,t){_.isArray(n)||(n=[n]);var r=n.length;if(!r)return _.isFunction(t)?t.call(e):t;for(var o=0;o<r;o++){var i=null==e?void 0:e[n[o]];void 0===i&&(i=t,o=r),e=_.isFunction(i)?i.call(e):i}return e};var V=0;_.uniqueId=function(e){var n=++V+"";return e?e+n:n},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+$[e]};_.template=function(e,n,t){!n&&t&&(n=t),n=_.defaults({},n,_.templateSettings);var r,o=RegExp([(n.escape||q).source,(n.interpolate||q).source,(n.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(n,t,r,o,s){return a+=e.slice(i,s).replace(z,Y),i=s+n.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),n}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,_)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},_.chain=function(e){var n=_(e);return n._chain=!0,n};var K=function(e,n){return e._chain?_(n).chain():n};_.mixin=function(e){return _.each(_.functions(e),function(n){var t=_[n]=e[n];_.prototype[n]=function(){var e=[this._wrapped];return s.apply(e,arguments),K(this,t.apply(_,e))}}),_},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=o[e];_.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],K(this,t)}}),_.each(["concat","join","slice"],function(e){var n=o[e];_.prototype[e]=function(){return K(this,n.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)}}()}),underscore_1=underscore.sortBy,underscore_2=underscore.reject,underscore_3=underscore.isEqual,underscore_4=underscore.where,underscore_5=underscore.find,underscore_6=underscore.filter,underscore_7=underscore.any,underscore_8=underscore.map,underscore_9=underscore.intersection,underscore_10=underscore.contains,underscore_11=underscore.zip,underscore_12=underscore.min,underscore_13=underscore.max,underscore_14=underscore.mapObject,underscore_15=underscore.omit,underscore_16=underscore._,_=Object.freeze({default:underscore,__moduleExports:underscore,sortBy:underscore_1,reject:underscore_2,isEqual:underscore_3,where:underscore_4,find:underscore_5,filter:underscore_6,any:underscore_7,map:underscore_8,intersection:underscore_9,contains:underscore_10,zip:underscore_11,min:underscore_12,max:underscore_13,mapObject:underscore_14,omit:underscore_15,_:underscore_16}),lib=createCommonjsModule(function(e,n){function t(e,n){if("string"!=typeof e)return{};var t,r,o=n?Object.assign({},n):{},i=/[a-z]+/gi;for(e=e;r=i.exec(e);)o[t=r[0]]=o.hasOwnProperty(t)?o[t]+1:1;return o}function r(e){var n,t=[];for(n=0;n<e.length;n++)t.push(e.slice(0,n)+e.slice(n+1));for(n=0;n<e.length-1;n++)t.push(e.slice(0,n)+e.slice(n+1,n+2)+e.slice(n,n+1)+e.slice(n+2));for(n=0;n<e.length;n++)u.forEach(function(r){t.push(e.slice(0,n)+r+e.slice(n+1))});for(n=0;n<=e.length;n++)u.forEach(function(r){t.push(e.slice(0,n)+r+e.slice(n))});return t}function o(e){var n,t=[];for(n in e)e.hasOwnProperty(n)&&t.push(n);return Math.max.apply(null,t)}function i(e){return Object.keys(e).length}function a(e,n){if(e.hasOwnProperty(n))return n;var t={},a=r(n);return a.forEach(function(n){e.hasOwnProperty(n)&&(t[e[n]]=n)}),i(t)>0?t[o(t)]:(a.forEach(function(n){r(n).forEach(function(n){e.hasOwnProperty(n)&&(t[e[n]]=n)})}),i(t)>0?t[o(t)]:n)}function s(e){return e.map(function(e){return function(e){return e?e.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s/g,"\n"):""}(e)}).filter(function(e){return""!==e}).join("\n")}function c(e,n){return function(e){return e.split(" ")}(n).map(function(n){return function(e,n){var t=function(e){var n=function(e){for(var n=0;-1!==l.indexOf(e[n]);)n+=1;return[e.substring(n),e.substring(0,n)]}(e),t=n[0],r=n[1],o=function(e){for(var n=e.length-1;-1!==l.indexOf(e[n]);)n-=1;return[e.substring(0,n+1),e.substring(n+1)]}(t);return[r,o[0],o[1]]}(n),r=t[0],o=t[1],i=t[2];return[r,a(e,o),i].join("")}(e,n)}).join(" ")}Object.defineProperty(n,"__esModule",{value:!0});var u="abcdefghijklmnopqrstuvwxyz".split(""),l=[".",",","!","?",'"'];n.train=t,n.correct=a,n.edits=r,n.correctSentenceFromSamples=function(e,n,r){var o=s(e);return r&&(o+="\na\nability\nable\nabout\nabove\naccept\naccording\naccount\nacross\nact\naction\nactivity\nactually\nadd\naddress\nadministration\nadmit\nadult\naffect\nafter\nagain\nagainst\nage\nagency\nagent\nago\nagree\nagreement\nahead\nair\nall\nallow\nalmost\nalone\nalong\nalready\nalso\nalthough\nalways\nAmerican\namong\namount\nanalysis\nand\nanimal\nanother\nanswer\nany\nanyone\nanything\nappear\napply\napproach\narea\nargue\narm\naround\narrive\nart\narticle\nartist\nas\nask\nassume\nat\nattack\nattention\nattorney\naudience\nauthor\nauthority\navailable\navoid\naway\nbaby\nback\nbad\nbag\nball\nbank\nbar\nbase\nbe\nbeat\nbeautiful\nbecause\nbecome\nbed\nbefore\nbegin\nbehavior\nbehind\nbelieve\nbenefit\nbest\nbetter\nbetween\nbeyond\nbig\nbill\nbillion\nbit\nblack\nblood\nblue\nboard\nbody\nbook\nborn\nboth\nbox\nboy\nbreak\nbring\nbrother\nbudget\nbuild\nbuilding\nbusiness\nbut\nbuy\nby\ncall\ncamera\ncampaign\ncan\ncancer\ncandidate\ncapital\ncar\ncard\ncare\ncareer\ncarry\ncase\ncatch\ncause\ncell\ncenter\ncentral\ncentury\ncertain\ncertainly\nchair\nchallenge\nchance\nchange\ncharacter\ncharge\ncheck\nchild\nchoice\nchoose\nchurch\ncitizen\ncity\ncivil\nclaim\nclass\nclear\nclearly\nclose\ncoach\ncold\ncollection\ncollege\ncolor\ncome\ncommercial\ncommon\ncommunity\ncompany\ncompare\ncomputer\nconcern\ncondition\nconference\nCongress\nconsider\nconsumer\ncontain\ncontinue\ncontrol\ncost\ncould\ncountry\ncouple\ncourse\ncourt\ncover\ncreate\ncrime\ncultural\nculture\ncup\ncurrent\ncustomer\ncut\ndark\ndata\ndaughter\nday\ndead\ndeal\ndeath\ndebate\ndecade\ndecide\ndecision\ndeep\ndefense\ndegree\nDemocrat\ndemocratic\ndescribe\ndesign\ndespite\ndetail\ndetermine\ndevelop\ndevelopment\ndie\ndifference\ndifferent\ndifficult\ndinner\ndirection\ndirector\ndiscover\ndiscuss\ndiscussion\ndisease\ndo\ndoctor\ndog\ndoor\ndown\ndraw\ndream\ndrive\ndrop\ndrug\nduring\neach\nearly\neast\neasy\neat\neconomic\neconomy\nedge\neducation\neffect\neffort\neight\neither\nelection\nelse\nemployee\nend\nenergy\nenjoy\nenough\nenter\nentire\nenvironment\nenvironmental\nespecially\nestablish\neven\nevening\nevent\never\nevery\neverybody\neveryone\neverything\nevidence\nexactly\nexample\nexecutive\nexist\nexpect\nexperience\nexpert\nexplain\neye\nface\nfact\nfactor\nfail\nfall\nfamily\nfar\nfast\nfather\nfear\nfederal\nfeel\nfeeling\nfew\nfield\nfight\nfigure\nfill\nfilm\nfinal\nfinally\nfinancial\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfish\nfive\nfloor\nfly\nfocus\nfollow\nfood\nfoot\nfor\nforce\nforeign\nforget\nform\nformer\nforward\nfour\nfree\nfriend\nfrom\nfront\nfull\nfund\nfuture\ngame\ngarden\ngas\ngeneral\ngeneration\nget\ngirl\ngive\nglass\ngo\ngoal\ngood\ngovernment\ngreat\ngreen\nground\ngroup\ngrow\ngrowth\nguess\ngun\nguy\nhair\nhalf\nhand\nhang\nhappen\nhappy\nhard\nhave\nhe\nhead\nhealth\nhear\nheart\nheat\nheavy\nhelp\nher\nhere\nherself\nhigh\nhim\nhimself\nhis\nhistory\nhit\nhold\nhome\nhope\nhospital\nhot\nhotel\nhour\nhouse\nhow\nhowever\nhuge\nhuman\nhundred\nhusband\nI\nidea\nidentify\nif\nimage\nimagine\nimpact\nimportant\nimprove\nin\ninclude\nincluding\nincrease\nindeed\nindicate\nindividual\nindustry\ninformation\ninside\ninstead\ninstitution\ninterest\ninteresting\ninternational\ninterview\ninto\ninvestment\ninvolve\nissue\nit\nitem\nits\nitself\njob\njoin\njust\nkeep\nkey\nkid\nkill\nkind\nkitchen\nknow\nknowledge\nland\nlanguage\nlarge\nlast\nlate\nlater\nlaugh\nlaw\nlawyer\nlay\nlead\nleader\nlearn\nleast\nleave\nleft\nleg\nlegal\nless\nlet\nletter\nlevel\nlie\nlife\nlight\nlike\nlikely\nline\nlist\nlisten\nlittle\nlive\nlocal\nlong\nlook\nlose\nloss\nlot\nlove\nlow\nmachine\nmagazine\nmain\nmaintain\nmajor\nmajority\nmake\nman\nmanage\nmanagement\nmanager\nmany\nmarket\nmarriage\nmaterial\nmatter\nmay\nmaybe\nme\nmean\nmeasure\nmedia\nmedical\nmeet\nmeeting\nmember\nmemory\nmention\nmessage\nmethod\nmiddle\nmight\nmilitary\nmillion\nmind\nminute\nmiss\nmission\nmodel\nmodern\nmoment\nmoney\nmonth\nmore\nmorning\nmost\nmother\nmouth\nmove\nmovement\nmovie\nMr\nMrs\nmuch\nmusic\nmust\nmy\nmyself\nname\nnation\nnational\nnatural\nnature\nnear\nnearly\nnecessary\nneed\nnetwork\nnever\nnew\nnews\nnewspaper\nnext\nnice\nnight\nno\nnone\nnor\nnorth\nnot\nnote\nnothing\nnotice\nnow\nn't\nnumber\noccur\nof\noff\noffer\noffice\nofficer\nofficial\noften\noh\noil\nok\nold\non\nonce\none\nonly\nonto\nopen\noperation\nopportunity\noption\nor\norder\norganization\nother\nothers\nour\nout\noutside\nover\nown\nowner\npage\npain\npainting\npaper\nparent\npart\nparticipant\nparticular\nparticularly\npartner\nparty\npass\npast\npatient\npattern\npay\npeace\npeople\nper\nperform\nperformance\nperhaps\nperiod\nperson\npersonal\nphone\nphysical\npick\npicture\npiece\nplace\nplan\nplant\nplay\nplayer\nPM\npoint\npolice\npolicy\npolitical\npolitics\npoor\npopular\npopulation\nposition\npositive\npossible\npower\npractice\nprepare\npresent\npresident\npressure\npretty\nprevent\nprice\nprivate\nprobably\nproblem\nprocess\nproduce\nproduct\nproduction\nprofessional\nprofessor\nprogram\nproject\nproperty\nprotect\nprove\nprovide\npublic\npull\npurpose\npush\nput\nquality\nquestion\nquickly\nquite\nrace\nradio\nraise\nrange\nrate\nrather\nreach\nread\nready\nreal\nreality\nrealize\nreally\nreason\nreceive\nrecent\nrecently\nrecognize\nrecord\nred\nreduce\nreflect\nregion\nrelate\nrelationship\nreligious\nremain\nremember\nremove\nreport\nrepresent\nRepublican\nrequire\nresearch\nresource\nrespond\nresponse\nresponsibility\nrest\nresult\nreturn\nreveal\nrich\nright\nrise\nrisk\nroad\nrock\nrole\nroom\nrule\nrun\nsafe\nsame\nsave\nsay\nscene\nschool\nscience\nscientist\nscore\nsea\nseason\nseat\nsecond\nsection\nsecurity\nsee\nseek\nseem\nsell\nsend\nsenior\nsense\nseries\nserious\nserve\nservice\nset\nseven\nseveral\nsex\nsexual\nshake\nshare\nshe\nshoot\nshort\nshot\nshould\nshoulder\nshow\nside\nsign\nsignificant\nsimilar\nsimple\nsimply\nsince\nsing\nsingle\nsister\nsit\nsite\nsituation\nsix\nsize\nskill\nskin\nsmall\nsmile\nso\nsocial\nsociety\nsoldier\nsome\nsomebody\nsomeone\nsomething\nsometimes\nson\nsong\nsoon\nsort\nsound\nsource\nsouth\nsouthern\nspace\nspeak\nspecial\nspecific\nspeech\nspend\nsport\nspring\nstaff\nstage\nstand\nstandard\nstar\nstart\nstate\nstatement\nstation\nstay\nstep\nstill\nstock\nstop\nstore\nstory\nstrategy\nstreet\nstrong\nstructure\nstudent\nstudy\nstuff\nstyle\nsubject\nsuccess\nsuccessful\nsuch\nsuddenly\nsuffer\nsuggest\nsummer\nsupport\nsure\nsurface\nsystem\ntable\ntake\ntalk\ntask\ntax\nteach\nteacher\nteam\ntechnology\ntelevision\ntell\nten\ntend\nterm\ntest\nthan\nthank\nthat\nthe\ntheir\nthem\nthemselves\nthen\ntheory\nthere\nthese\nthey\nthing\nthink\nthird\nthis\nthose\nthough\nthought\nthousand\nthreat\nthree\nthrough\nthroughout\nthrow\nthus\ntime\nto\ntoday\ntogether\ntonight\ntoo\ntop\ntotal\ntough\ntoward\ntown\ntrade\ntraditional\ntraining\ntravel\ntreat\ntreatment\ntree\ntrial\ntrip\ntrouble\ntrue\ntruth\ntry\nturn\nTV\ntwo\ntype\nunder\nunderstand\nunit\nuntil\nup\nupon\nus\nuse\nusually\nvalue\nvarious\nvery\nvictim\nview\nviolence\nvisit\nvoice\nvote\nwait\nwalk\nwall\nwant\nwar\nwatch\nwater\nway\nwe\nweapon\nwear\nweek\nweight\nwell\nwest\nwestern\nwhat\nwhatever\nwhen\nwhere\nwhether\nwhich\nwhile\nwhite\nwho\nwhole\nwhom\nwhose\nwhy\nwide\nwife\nwill\nwin\nwind\nwindow\nwish\nwith\nwithin\nwithout\nwoman\nwonder\nword\nwork\nworker\nworld\nworry\nwould\nwrite\nwriter\nwrong\nyard\nyeah\nyear\nyes\nyet\nyou\nyoung\nyour\nyourself"),c(t(o),n)},n.processSentences=s});unwrapExports(lib);var lib_1=lib.train,lib_2=lib.correct,lib_4=lib.correctSentenceFromSamples,lib_5=lib.processSentences,lib$2=createCommonjsModule(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringNormalize=function(e){return e.replace(/[\u201C\u201D\u02DD]/g,'"').replace(/[\u00B4\u0060\u2018\u2019\u0301\u02BB\u02C8]/g,"'").replace(/[\u02CC\u201A\uFF0C]/g,",")}});unwrapExports(lib$2);var lib_1$1=lib$2.stringNormalize,feedbackStrings={punctuationError:"There may be an error. How could you update the punctuation?",punctuationAndCaseError:"There may be an error. How could you update the punctuation and capitalization?",typingError:"Try again. There may be a spelling mistake.",caseError:"Proofread your work. There may be a capitalization error.",minLengthError:"Revise your work. Do you have all of the information from the prompt?",maxLengthError:"Revise your work. How could this sentence be shorter and more concise?",modifiedWordError:"Revise your work. You may have mixed up a word.",additionalWordError:"Revise your work. You may have added an extra word.",missingWordError:"Revise your work. You may have left out an important word.",whitespaceError:"There may be an error. You may have forgotten a space between two words.",flexibleModifiedWordError:"Revise your work. You may have mixed up a word.",flexibleAdditionalWordError:"Revise your work. You may have added an extra word.",flexibleMissingWordError:"Revise your work. You may have left out an important word.",spacingAfterCommaError:"<p>Revise your work. Always put a space after a <em>comma</em>.</p>"},spellingFeedbackStrings={"Capitalization Hint":"Proofread your work. Check your capitalization and spelling.","Punctuation Hint":"There may be an error. How could you update the punctuation and spelling?","Punctuation and Case Hint":"There may be an error. How could you update the punctuation, capitalization, and spelling?","Spelling Hint":"Try again. There may be a spelling mistake.","Modified Word Hint":"Revise your work. You may have mixed up or misspelled a word.","Additional Word Hint":"You may have added an extra word. Revise your work, and then check your spelling","Missing Word Hint":"You may have left out an important word. Revise your work, and then check your spelling","Whitespace Hint":"Proofread your work. You may have forgotten a space between two words. Also check your spelling.","Spacing After Comma Hint":feedbackStrings.spacingAfterCommaError},subStrings=[" ,"," ."," ;"," !"," ?"],subStringsToText={" ,":"comma"," .":"period"," ;":"semi-colon"," !":"exclamation mark"," ?":"question mark"},removeSpaces=function(e){return e.replace(/\s+/g,"")},diff=createCommonjsModule(function(e,n){var t;t=function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){n.__esModule=!0,n.canonicalize=n.convertChangesToXML=n.convertChangesToDMP=n.merge=n.parsePatch=n.applyPatches=n.applyPatch=n.createPatch=n.createTwoFilesPatch=n.structuredPatch=n.diffArrays=n.diffJson=n.diffCss=n.diffSentences=n.diffTrimmedLines=n.diffLines=n.diffWordsWithSpace=n.diffWords=n.diffChars=n.Diff=void 0;var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(2),s=t(3),c=t(5),u=t(6),l=t(7),f=t(8),d=t(9),p=t(10),E=t(11),_=t(13),h=t(14),S=t(16),g=t(17);n.Diff=i.default,n.diffChars=a.diffChars,n.diffWords=s.diffWords,n.diffWordsWithSpace=s.diffWordsWithSpace,n.diffLines=c.diffLines,n.diffTrimmedLines=c.diffTrimmedLines,n.diffSentences=u.diffSentences,n.diffCss=l.diffCss,n.diffJson=f.diffJson,n.diffArrays=d.diffArrays,n.structuredPatch=h.structuredPatch,n.createTwoFilesPatch=h.createTwoFilesPatch,n.createPatch=h.createPatch,n.applyPatch=p.applyPatch,n.applyPatches=p.applyPatches,n.parsePatch=E.parsePatch,n.merge=_.merge,n.convertChangesToDMP=S.convertChangesToDMP,n.convertChangesToXML=g.convertChangesToXML,n.canonicalize=f.canonicalize},function(e,n){function t(){}function r(e,n,t,r,o){for(var i=0,a=n.length,s=0,c=0;i<a;i++){var u=n[i];if(u.removed){if(u.value=e.join(r.slice(c,c+u.count)),c+=u.count,i&&n[i-1].added){var l=n[i-1];n[i-1]=n[i],n[i]=l}}else{if(!u.added&&o){var f=t.slice(s,s+u.count);f=f.map(function(e,n){var t=r[c+n];return t.length>e.length?t:e}),u.value=e.join(f)}else u.value=e.join(t.slice(s,s+u.count));s+=u.count,u.added||(c+=u.count)}}var d=n[a-1];return a>1&&"string"==typeof d.value&&(d.added||d.removed)&&e.equals("",d.value)&&(n[a-2].value+=d.value,n.pop()),n}n.__esModule=!0,n.default=t,t.prototype={diff:function(e,n){function t(e){return a?(setTimeout(function(){a(void 0,e)},0),!0):e}function o(){for(var o=-1*l;o<=l;o+=2){var i=void 0,a=d[o-1],f=d[o+1],p=(f?f.newPos:0)-o;a&&(d[o-1]=void 0);var E=a&&a.newPos+1<c,_=f&&0<=p&&p<u;if(E||_){if(!E||_&&a.newPos<f.newPos?(i={newPos:(h=f).newPos,components:h.components.slice(0)},s.pushComponent(i.components,void 0,!0)):((i=a).newPos++,s.pushComponent(i.components,!0,void 0)),p=s.extractCommon(i,n,e,o),i.newPos+1>=c&&p+1>=u)return t(r(s,i.components,n,e,s.useLongestToken));d[o]=i}else d[o]=void 0}var h;l++}var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.callback;"function"==typeof i&&(a=i,i={}),this.options=i;var s=this;e=this.castInput(e),n=this.castInput(n),e=this.removeEmpty(this.tokenize(e));var c=(n=this.removeEmpty(this.tokenize(n))).length,u=e.length,l=1,f=c+u,d=[{newPos:-1,components:[]}],p=this.extractCommon(d[0],n,e,0);if(d[0].newPos+1>=c&&p+1>=u)return t([{value:this.join(n),count:n.length}]);if(a)!function e(){setTimeout(function(){if(l>f)return a();o()||e()},0)}();else for(;l<=f;){var E=o();if(E)return E}},pushComponent:function(e,n,t){var r=e[e.length-1];r&&r.added===n&&r.removed===t?e[e.length-1]={count:r.count+1,added:n,removed:t}:e.push({count:1,added:n,removed:t})},extractCommon:function(e,n,t,r){for(var o=n.length,i=t.length,a=e.newPos,s=a-r,c=0;a+1<o&&s+1<i&&this.equals(n[a+1],t[s+1]);)a++,s++,c++;return c&&e.components.push({count:c}),e.newPos=a,s},equals:function(e,n){return this.options.comparator?this.options.comparator(e,n):e===n||this.options.ignoreCase&&e.toLowerCase()===n.toLowerCase()},removeEmpty:function(e){for(var n=[],t=0;t<e.length;t++)e[t]&&n.push(e[t]);return n},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}}},function(e,n,t){n.__esModule=!0,n.characterDiff=void 0,n.diffChars=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=n.characterDiff=new i.default},function(e,n,t){n.__esModule=!0,n.wordDiff=void 0,n.diffWords=function(e,n,t){return t=a.generateOptions(t,{ignoreWhitespace:!0}),u.diff(e,n,t)},n.diffWordsWithSpace=function(e,n,t){return u.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(4),s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,u=n.wordDiff=new i.default;u.equals=function(e,n){return this.options.ignoreCase&&(e=e.toLowerCase(),n=n.toLowerCase()),e===n||this.options.ignoreWhitespace&&!c.test(e)&&!c.test(n)},u.tokenize=function(e){for(var n=e.split(/(\s+|\b)/),t=0;t<n.length-1;t++)!n[t+1]&&n[t+2]&&s.test(n[t])&&s.test(n[t+2])&&(n[t]+=n[t+2],n.splice(t+1,2),t--);return n}},function(e,n){n.__esModule=!0,n.generateOptions=function(e,n){if("function"==typeof e)n.callback=e;else if(e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}},function(e,n,t){n.__esModule=!0,n.lineDiff=void 0,n.diffLines=function(e,n,t){return s.diff(e,n,t)},n.diffTrimmedLines=function(e,n,t){var r=a.generateOptions(t,{ignoreWhitespace:!0});return s.diff(e,n,r)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(4),s=n.lineDiff=new i.default;s.tokenize=function(e){var n=[],t=e.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var o=t[r];r%2&&!this.options.newlineIsToken?n[n.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),n.push(o))}return n}},function(e,n,t){n.__esModule=!0,n.sentenceDiff=void 0,n.diffSentences=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=n.sentenceDiff=new i.default;a.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,n,t){n.__esModule=!0,n.cssDiff=void 0,n.diffCss=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=n.cssDiff=new i.default;a.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,n,t){function r(e,n,t,i,a){n=n||[],t=t||[],i&&(e=i(a,e));var s=void 0;for(s=0;s<n.length;s+=1)if(n[s]===e)return t[s];var c=void 0;if("[object Array]"===u.call(e)){for(n.push(e),c=new Array(e.length),t.push(c),s=0;s<e.length;s+=1)c[s]=r(e[s],n,t,i,a);return n.pop(),t.pop(),c}if(e&&e.toJSON&&(e=e.toJSON()),"object"===(void 0===e?"undefined":o(e))&&null!==e){n.push(e),c={},t.push(c);var l=[],f=void 0;for(f in e)e.hasOwnProperty(f)&&l.push(f);for(l.sort(),s=0;s<l.length;s+=1)c[f=l[s]]=r(e[f],n,t,i,f);n.pop(),t.pop()}else c=e;return c}n.__esModule=!0,n.jsonDiff=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.diffJson=function(e,n,t){return l.diff(e,n,t)},n.canonicalize=r;var i,a=t(1),s=(i=a)&&i.__esModule?i:{default:i},c=t(5),u=Object.prototype.toString,l=n.jsonDiff=new s.default;l.useLongestToken=!0,l.tokenize=c.lineDiff.tokenize,l.castInput=function(e){var n=this.options,t=n.undefinedReplacement,o=n.stringifyReplacer,i=void 0===o?function(e,n){return void 0===n?t:n}:o;return"string"==typeof e?e:JSON.stringify(r(e,null,null,i),i,"  ")},l.equals=function(e,n){return s.default.prototype.equals.call(l,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))}},function(e,n,t){n.__esModule=!0,n.arrayDiff=void 0,n.diffArrays=function(e,n,t){return a.diff(e,n,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=n.arrayDiff=new i.default;a.tokenize=function(e){return e.slice()},a.join=a.removeEmpty=function(e){return e}},function(e,n,t){function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n&&(n=i.parsePatch(n)),Array.isArray(n)){if(n.length>1)throw new Error("applyPatch only works with a single input.");n=n[0]}for(var r=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=n.hunks,c=t.compareLine||function(e,n,t,r){return n===r},u=0,l=t.fuzzFactor||0,f=0,d=0,p=void 0,E=void 0,_=0;_<a.length;_++){for(var h=a[_],S=r.length-h.oldLines,g=0,T=d+h.oldStart-1,v=s.default(T,f,S);void 0!==g;g=v())if(function(e,n){for(var t=0;t<e.lines.length;t++){var o=e.lines[t],i=o.length>0?o[0]:" ",a=o.length>0?o.substr(1):o;if(" "===i||"-"===i){if(!c(n+1,r[n],i,a)&&++u>l)return!1;n++}}return!0}(h,T+g)){h.offset=d+=g;break}if(void 0===g)return!1;f=h.offset+h.oldStart+h.oldLines}for(var m=0,I=0;I<a.length;I++){var O=a[I],N=O.oldStart+O.offset+m-1;m+=O.newLines-O.oldLines,N<0&&(N=0);for(var A=0;A<O.lines.length;A++){var R=O.lines[A],C=R.length>0?R[0]:" ",y=R.length>0?R.substr(1):R,b=O.linedelimiters[A];if(" "===C)N++;else if("-"===C)r.splice(N,1),o.splice(N,1);else if("+"===C)r.splice(N,0,y),o.splice(N,0,b),N++;else if("\\"===C){var L=O.lines[A-1]?O.lines[A-1][0]:null;"+"===L?p=!0:"-"===L&&(E=!0)}}}if(p)for(;!r[r.length-1];)r.pop(),o.pop();else E&&(r.push(""),o.push("\n"));for(var D=0;D<r.length-1;D++)r[D]=r[D]+o[D];return r.join("")}n.__esModule=!0,n.applyPatch=r,n.applyPatches=function(e,n){"string"==typeof e&&(e=i.parsePatch(e));var t=0;!function o(){var i=e[t++];if(!i)return n.complete();n.loadFile(i,function(e,t){if(e)return n.complete(e);var a=r(t,i,n);n.patched(i,a,function(e){if(e)return n.complete(e);o()})})}()};var o,i=t(11),a=t(12),s=(o=a)&&o.__esModule?o:{default:o}},function(e,n){n.__esModule=!0,n.parsePatch=function(e){function n(e){var n=/^(---|\+\+\+)\s+(.*)$/.exec(o[s]);if(n){var t="---"===n[1]?"old":"new",r=n[2].split("\t",2),i=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(i)&&(i=i.substr(1,i.length-2)),e[t+"FileName"]=i,e[t+"Header"]=(r[1]||"").trim(),s++}}function t(){for(var e=s,n=o[s++],t=n.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+t[1],oldLines:+t[2]||1,newStart:+t[3],newLines:+t[4]||1,lines:[],linedelimiters:[]},c=0,u=0;s<o.length&&!(0===o[s].indexOf("--- ")&&s+2<o.length&&0===o[s+1].indexOf("+++ ")&&0===o[s+2].indexOf("@@"));s++){var l=0==o[s].length&&s!=o.length-1?" ":o[s][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)break;a.lines.push(o[s]),a.linedelimiters.push(i[s]||"\n"),"+"===l?c++:"-"===l?u++:" "===l&&(c++,u++)}if(c||1!==a.newLines||(a.newLines=0),u||1!==a.oldLines||(a.oldLines=0),r.strict){
if(c!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(u!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return a}for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=[],s=0;s<o.length;)!function(){var e={};for(a.push(e);s<o.length;){var i=o[s];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var c=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);c&&(e.index=c[1]),s++}for(n(e),n(e),e.hunks=[];s<o.length;){var u=o[s];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))e.hunks.push(t());else{if(u&&r.strict)throw new Error("Unknown line "+(s+1)+" "+JSON.stringify(u));s++}}}();return a}},function(e,n){n.__esModule=!0,n.default=function(e,n,t){var r=!0,o=!1,i=!1,a=1;return function s(){if(r&&!i){if(o?a++:r=!1,e+a<=t)return a;i=!0}if(!o)return i||(r=!0),n<=e-a?-a++:(o=!0,s())}}},function(e,n,t){function r(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function o(e){var n=function e(n){var t=0,r=0;return n.forEach(function(n){if("string"!=typeof n){var o=e(n.mine),i=e(n.theirs);void 0!==t&&(o.oldLines===i.oldLines?t+=o.oldLines:t=void 0),void 0!==r&&(o.newLines===i.newLines?r+=o.newLines:r=void 0)}else void 0===r||"+"!==n[0]&&" "!==n[0]||r++,void 0===t||"-"!==n[0]&&" "!==n[0]||t++}),{oldLines:t,newLines:r}}(e.lines),t=n.oldLines,r=n.newLines;void 0!==t?e.oldLines=t:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function i(e,n){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return v.parsePatch(e)[0];if(!n)throw new Error("Must provide a base reference or pass in a patch");return T.structuredPatch(void 0,void 0,n,e)}return e}function a(e){return e.newFileName&&e.newFileName!==e.oldFileName}function s(e,n,t){return n===t?n:(e.conflict=!0,{mine:n,theirs:t})}function c(e,n){return e.oldStart<n.oldStart&&e.oldStart+e.oldLines<n.oldStart}function u(e,n){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+n,newLines:e.newLines,lines:e.lines}}function l(e,n,t,i,a){var s={offset:n,lines:t,index:0},c={offset:i,lines:a,index:0};for(E(e,s,c),E(e,c,s);s.index<s.lines.length&&c.index<c.lines.length;){var u=s.lines[s.index],l=c.lines[c.index];if("-"!==u[0]&&"+"!==u[0]||"-"!==l[0]&&"+"!==l[0])if("+"===u[0]&&" "===l[0]){var S;(S=e.lines).push.apply(S,r(h(s)))}else if("+"===l[0]&&" "===u[0]){var g;(g=e.lines).push.apply(g,r(h(c)))}else"-"===u[0]&&" "===l[0]?d(e,s,c):"-"===l[0]&&" "===u[0]?d(e,c,s,!0):u===l?(e.lines.push(u),s.index++,c.index++):p(e,h(s),h(c));else f(e,s,c)}_(e,s),_(e,c),o(e)}function f(e,n,t){var o=h(n),i=h(t);if(S(o)&&S(i)){var a,s;if(m.arrayStartsWith(o,i)&&g(t,o,o.length-i.length))return void(a=e.lines).push.apply(a,r(o));if(m.arrayStartsWith(i,o)&&g(n,i,i.length-o.length))return void(s=e.lines).push.apply(s,r(i))}else if(m.arrayEqual(o,i)){var c;return void(c=e.lines).push.apply(c,r(o))}p(e,o,i)}function d(e,n,t,o){var i,a=h(n),s=function(e,n){for(var t=[],r=[],o=0,i=!1,a=!1;o<n.length&&e.index<e.lines.length;){var s=e.lines[e.index],c=n[o];if("+"===c[0])break;if(i=i||" "!==s[0],r.push(c),o++,"+"===s[0])for(a=!0;"+"===s[0];)t.push(s),s=e.lines[++e.index];c.substr(1)===s.substr(1)?(t.push(s),e.index++):a=!0}if("+"===(n[o]||"")[0]&&i&&(a=!0),a)return t;for(;o<n.length;)r.push(n[o++]);return{merged:r,changes:t}}(t,a);s.merged?(i=e.lines).push.apply(i,r(s.merged)):p(e,o?s:a,o?a:s)}function p(e,n,t){e.conflict=!0,e.lines.push({conflict:!0,mine:n,theirs:t})}function E(e,n,t){for(;n.offset<t.offset&&n.index<n.lines.length;){var r=n.lines[n.index++];e.lines.push(r),n.offset++}}function _(e,n){for(;n.index<n.lines.length;){var t=n.lines[n.index++];e.lines.push(t)}}function h(e){for(var n=[],t=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===t&&"+"===r[0]&&(t="+"),t!==r[0])break;n.push(r),e.index++}return n}function S(e){return e.reduce(function(e,n){return e&&"-"===n[0]},!0)}function g(e,n,t){for(var r=0;r<t;r++){var o=n[n.length-t+r].substr(1);if(e.lines[e.index+r]!==" "+o)return!1}return e.index+=t,!0}n.__esModule=!0,n.calcLineCount=o,n.merge=function(e,n,t){e=i(e,t),n=i(n,t);var r={};(e.index||n.index)&&(r.index=e.index||n.index),(e.newFileName||n.newFileName)&&(a(e)?a(n)?(r.oldFileName=s(r,e.oldFileName,n.oldFileName),r.newFileName=s(r,e.newFileName,n.newFileName),r.oldHeader=s(r,e.oldHeader,n.oldHeader),r.newHeader=s(r,e.newHeader,n.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=n.oldFileName||e.oldFileName,r.newFileName=n.newFileName||e.newFileName,r.oldHeader=n.oldHeader||e.oldHeader,r.newHeader=n.newHeader||e.newHeader)),r.hunks=[];for(var o=0,f=0,d=0,p=0;o<e.hunks.length||f<n.hunks.length;){var E=e.hunks[o]||{oldStart:1/0},_=n.hunks[f]||{oldStart:1/0};if(c(E,_))r.hunks.push(u(E,d)),o++,p+=E.newLines-E.oldLines;else if(c(_,E))r.hunks.push(u(_,p)),f++,d+=_.newLines-_.oldLines;else{var h={oldStart:Math.min(E.oldStart,_.oldStart),oldLines:0,newStart:Math.min(E.newStart+d,_.oldStart+p),newLines:0,lines:[]};l(h,E.oldStart,E.lines,_.oldStart,_.lines),f++,o++,r.hunks.push(h)}}return r};var T=t(14),v=t(11),m=t(15)},function(e,n,t){function r(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function o(e,n,t,o,i,s,c){function u(e){return e.map(function(e){return" "+e})}c||(c={}),void 0===c.context&&(c.context=4);var l=a.diffLines(t,o,c);l.push({value:"",lines:[]});for(var f=[],d=0,p=0,E=[],_=1,h=1,S=0;S<l.length;S++)!function(e){var n=l[e],i=n.lines||n.value.replace(/\n$/,"").split("\n");if(n.lines=i,n.added||n.removed){var a;if(!d){var s=l[e-1];d=_,p=h,s&&(E=c.context>0?u(s.lines.slice(-c.context)):[],d-=E.length,p-=E.length)}(a=E).push.apply(a,r(i.map(function(e){return(n.added?"+":"-")+e}))),n.added?h+=i.length:_+=i.length}else{if(d)if(i.length<=2*c.context&&e<l.length-2){var S;(S=E).push.apply(S,r(u(i)))}else{var g,T=Math.min(i.length,c.context);(g=E).push.apply(g,r(u(i.slice(0,T))));var v={oldStart:d,oldLines:_-d+T,newStart:p,newLines:h-p+T,lines:E};if(e>=l.length-2&&i.length<=c.context){var m=/\n$/.test(t),I=/\n$/.test(o);0!=i.length||m?m&&I||E.push("\\ No newline at end of file"):E.splice(v.oldLines,0,"\\ No newline at end of file")}f.push(v),d=0,p=0,E=[]}_+=i.length,h+=i.length}}(S);return{oldFileName:e,newFileName:n,oldHeader:i,newHeader:s,hunks:f}}function i(e,n,t,r,i,a,s){var c=o(e,n,t,r,i,a,s),u=[];e==n&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+c.oldFileName+(void 0===c.oldHeader?"":"\t"+c.oldHeader)),u.push("+++ "+c.newFileName+(void 0===c.newHeader?"":"\t"+c.newHeader));for(var l=0;l<c.hunks.length;l++){var f=c.hunks[l];u.push("@@ -"+f.oldStart+","+f.oldLines+" +"+f.newStart+","+f.newLines+" @@"),u.push.apply(u,f.lines)}return u.join("\n")+"\n"}n.__esModule=!0,n.structuredPatch=o,n.createTwoFilesPatch=i,n.createPatch=function(e,n,t,r,o,a){return i(e,e,n,t,r,o,a)};var a=t(5)},function(e,n){function t(e,n){if(n.length>e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}n.__esModule=!0,n.arrayEqual=function(e,n){return e.length===n.length&&t(e,n)},n.arrayStartsWith=t},function(e,n){n.__esModule=!0,n.convertChangesToDMP=function(e){for(var n=[],t=void 0,r=void 0,o=0;o<e.length;o++)t=e[o],r=t.added?1:t.removed?-1:0,n.push([r,t.value]);return n}},function(e,n){function t(e){var n=e;return n=(n=(n=(n=n.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}n.__esModule=!0,n.convertChangesToXML=function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r];o.added?n.push("<ins>"):o.removed&&n.push("<del>"),n.push(t(o.value)),o.added?n.push("</ins>"):o.removed&&n.push("</del>")}return n.join("")}}])},e.exports=t()});unwrapExports(diff);var diff_1=diff.diffWords,constants={timing:"Revise your work. Which joining word helps show the timing of the events?",opposite:"Revise your work. Which joining word helps show that the two ideas are opposite?",reason:"Revise your work. Which joining word helps tell why or give a reason?",prerequisite:"Revise your work. Which joining word helps show that one of the ideas must happen for the other one to happen?",choice:"Revise your work. Which joining word is used to show a choice?",and:"Revise your work. Which joining word is used to add another idea?"},data={after:{feedback:constants.timing},"as soon as":{feedback:constants.timing},before:{feedback:constants.timing},whenever:{feedback:constants.timing},while:{feedback:constants.timing},once:{feedback:constants.timing},when:{feedback:constants.timing},until:{feedback:constants.timing},although:{feedback:constants.opposite},"even though":{feedback:constants.opposite},though:{feedback:constants.opposite},but:{feedback:constants.opposite},yet:{feedback:constants.opposite},since:{feedback:constants.reason},so:{feedback:constants.reason},because:{feedback:constants.reason},for:{feedback:constants.reason},as:{feedback:constants.reason},"as long as":{feedback:constants.prerequisite},if:{feedback:constants.prerequisite},unless:{feedback:constants.prerequisite},"in order to":{feedback:constants.prerequisite},or:{feedback:constants.choice},nor:{feedback:constants.choice},and:{feedback:constants.and}},levenshtein=createCommonjsModule(function(e){var n,t;n=commonjsGlobal,t=function(e){function n(e,n){var t,r;for(t=-1,r=e.length;++t<r;)n(e[t],t,e)}function t(e,t){var r;return r=Array(e.length),n(e,function(e,n,o){r[n]=t(e,n,o)}),r}function r(e,t,r){return n(e,function(e,n,o){r=t(e,n,o)}),r}function o(e,t){var r,o,i;return i=this._matrix=[],e==t?this.distance=0:""==e?this.distance=t.length:""==t?this.distance=e.length:(r=[0],n(e,function(e,n){r[++n]=n}),i[0]=r,n(t,function(a,s){o=[++s],n(e,function(n,i){i++,e.charAt(i-1)==t.charAt(s-1)?o[i]=r[i-1]:o[i]=Math.min(r[i]+1,o[i-1]+1,r[i-1]+1)}),r=o,i[i.length]=r}),this.distance=o[o.length-1])}return o.prototype.toString=o.prototype.inspect=function(e){var n,o,i,a;for(o=r(n=this.getMatrix(),function(e,n){return Math.max(e,r(n,Math.max,0))},0),i=Array((o+"").length).join(" "),a=[];a.length<(n[0]&&n[0].length||0);)a[a.length]=Array(i.length+1).join("-");return a=a.join("-+")+"-",t(n,function(e){return t(e,function(e){return(i+e).slice(-i.length)}).join(" |")+" "}).join("\n"+a+"\n")},o.prototype.getMatrix=function(){return this._matrix.slice()},o.prototype.valueOf=function(){return this.distance},o},e&&e.exports?e.exports=t():n.Levenshtein=t()}),Levenshtein_=Object.freeze({default:levenshtein,__moduleExports:levenshtein}),Levenshtein=levenshtein||Levenshtein_,ERROR_TYPES={NO_ERROR:"NO_ERROR",MISSING_WORD:"MISSING_WORD",ADDITIONAL_WORD:"ADDITIONAL_WORD",INCORRECT_WORD:"INCORRECT_WORD",MISSPELLED_WORD:"MISSPELLED_WORD"},getErrorType=function(e,n,t){var r=getChangeObjects(e,n);if(checkForIncorrect(r)){var o=r.find(function(e){return e.added})?r.find(function(e){return e.added}).value:void 0,i=r.find(function(e){return e.removed})?r.find(function(e){return e.removed}).value:void 0;if(o&&i){var a=getOptimalResponses(t).map(function(e){return e.text}),s=lib_5(a),c=lib_1(s);if(lib_2(c,o)===i)return ERROR_TYPES.MISSPELLED_WORD}return ERROR_TYPES.INCORRECT_WORD}return checkForAdditions(r)?ERROR_TYPES.ADDITIONAL_WORD:checkForDeletions(r)?ERROR_TYPES.MISSING_WORD:void 0},getMissingAndAddedString=function(e,n){var t=getChangeObjects(e,n),r=t?underscore_4(t,function(e){return e.removed})[0]:null,o=r?r.value:void 0,i=t?underscore_4(t,function(e){return e.added})[0]:null;return{missingText:o,extraneousText:i?i.value:void 0}},getChangeObjects=function(e,n){return diff_1(e,n)},checkForIncorrect=function(e){var n=!1,t=0,r=0;return e.forEach(function(e,o,i){n=checkForTooLongError(e),checkForAddedOrRemoved(e)&&(r+=1),e.removed&&getLengthOfChangeObject(e)<2&&o===i.length-1?t+=1:t+=e.removed&&getLengthOfChangeObject(e)<2&&i[o+1].added?1:0}),!n&&1===t&&2===r},checkForAdditions=function(e){var n=!1,t=0,r=0;return e.forEach(function(e,o,i){checkForAddedOrRemoved(e)&&(r+=1),n=checkForTooLongError(e),e.added&&getLengthOfChangeObject(e)<2&&0===o?t+=1:t+=e.added&&getLengthOfChangeObject(e)<2&&!i[o-1].removed?1:0}),!n&&1===t&&1===r},checkForDeletions=function(e){var n=!1,t=0,r=0;return e.forEach(function(e,o,i){checkForAddedOrRemoved(e)&&(r+=1),n=checkForTooLongError(e),e.removed&&getLengthOfChangeObject(e)<2&&o===i.length-1?t+=1:t+=e.removed&&getLengthOfChangeObject(e)<2&&!i[o+1].added?1:0}),!n&&1===t&&1===r},checkForAddedOrRemoved=function(e){return e.removed||e.added},checkForTooLongChangeObjects=function(e){return getLengthOfChangeObject(e)>=2},checkForTooLongError=function(e){return(e.removed||e.added)&&checkForTooLongChangeObjects(e)},getLengthOfChangeObject=function(e){var n=e.value.split(" ").filter(Boolean);return n?n.length:0},constants$1={FIREBASE:"https://quillconnectstaging.firebaseio.com/v2/",DISPLAY_ERROR:"DISPLAY_ERROR",DISPLAY_MESSAGE:"DISPLAY_MESSAGE",DISMISS_FEEDBACK:"DISMISS_FEEDBACK",CLEAR_DISPLAY_MESSAGE_AND_ERROR:"CLEAR_DISPLAY_MESSAGE_AND_ERROR",ATTEMPTING_LOGIN:"ATTEMPTING_LOGIN",LOGIN_USER:"LOGIN_USER",LOGOUT:"LOGOUT",LOGGED_IN:"LOGGED_IN",ANONYMOUS:"ANONYMOUS",AWAITING_AUTH_RESPONSE:"AWAITING_AUTH_RESPONSE",RECEIVE_CONCEPTS_DATA:"RECEIVE_CONCEPTS_DATA",AWAIT_NEW_CONCEPT_RESPONSE:"AWAIT_NEW_CONCEPT_RESPONSE",RECEIVE_NEW_CONCEPT_RESPONSE:"RECEIVE_NEW_CONCEPT_RESPONSE",START_CONCEPT_EDIT:"START_CONCEPT_EDIT",FINISH_CONCEPT_EDIT:"FINISH_CONCEPT_EDIT",SUBMIT_CONCEPT_EDIT:"SUBMIT_CONCEPT_EDIT",TOGGLE_NEW_CONCEPT_MODAL:"TOGGLE_NEW_CONCEPT_MODAL",EDITING_CONCEPT:"EDITING_CONCEPT",SUBMITTING_CONCEPT:"SUBMITTING_CONCEPT",RECEIVE_LESSONS_DATA:"RECEIVE_LESSONS_DATA",AWAIT_NEW_LESSON_RESPONSE:"AWAIT_NEW_LESSON_RESPONSE",RECEIVE_NEW_LESSON_RESPONSE:"RECEIVE_NEW_LESSON_RESPONSE",START_LESSON_EDIT:"START_LESSON_EDIT",FINISH_LESSON_EDIT:"FINISH_LESSON_EDIT",SUBMIT_LESSON_EDIT:"SUBMIT_LESSON_EDIT",TOGGLE_NEW_LESSON_MODAL:"TOGGLE_NEW_LESSON_MODAL",RECEIVE_CLASSROOM_LESSONS_DATA:"RECEIVE_CLASSROOM_LESSONS_DATA",RECEIVE_CLASSROOM_LESSON_DATA:"RECEIVE_CLASSROOM_LESSON_DATA",RECEIVE_CLASSROOM_LESSONS_REVIEW_DATA:"RECEIVE_CLASSROOM_LESSONS_REVIEW_DATA",NO_LESSON_ID:"NO_LESSON_ID",NO_LESSONS:"NO_LESSONS",SET_LESSON_ID:"SET_LESSON_ID",CLEAR_CLASSROOM_LESSON_DATA:"CLEAR_CLASSROOM_LESSON_DATA",EDITING_LESSON:"EDITING_LESSON",SUBMITTING_LESSON:"SUBMITTING_LESSON",RECEIVE_QUESTIONS_DATA:"RECEIVE_QUESTIONS_DATA",AWAIT_NEW_QUESTION_RESPONSE:"AWAIT_NEW_QUESTION_RESPONSE",RECEIVE_NEW_QUESTION_RESPONSE:"RECEIVE_NEW_QUESTION_RESPONSE",START_QUESTION_EDIT:"START_QUESTION_EDIT",FINISH_QUESTION_EDIT:"FINISH_QUESTION_EDIT",SUBMIT_QUESTION_EDIT:"SUBMIT_QUESTION_EDIT",TOGGLE_NEW_QUESTION_MODAL:"TOGGLE_NEW_QUESTION_MODAL",SHOULD_RELOAD_RESPONSES:"SHOULD_RELOAD_RESPONSES",CLEAR_QUESTION_STATE:"CLEAR_QUESTION_STATE",UPDATE_SEARCHED_RESPONSES:"UPDATE_SEARCHED_RESPONSES",SET_RESPONSE_PAGE_NUMBER:"SET_RESPONSE_PAGE_NUMBER",SET_RESPONSE_STRING_FILTER:"SET_RESPONSE_STRING_FILTER",INCREMENT_REQUEST_COUNT:"INCREMENT_REQUEST_COUNT",SET_SUGGESTED_SEQUENCES:"SET_SUGGESTED_SEQUENCES",SET_USED_SEQUENCES:"SET_USED_SEQUENCES",SET_COVERED_SEQUENCES:"SET_COVERED_SEQUENCES",EDITING_QUESTION:"EDITING_QUESTION",SUBMITTING_QUESTION:"SUBMITTING_QUESTION",RECEIVE_FILL_IN_BLANK_QUESTIONS_DATA:"RECEIVE_FILL_IN_BLANK_QUESTIONS_DATA",AWAIT_NEW_FILL_IN_BLANK_QUESTION_RESPONSE:"AWAIT_NEW_FILL_IN_BLANK_QUESTION_RESPONSE",RECEIVE_NEW_FILL_IN_BLANK_QUESTION_RESPONSE:"RECEIVE_NEW_FILL_IN_BLANK_QUESTION_RESPONSE",START_FILL_IN_BLANK_QUESTION_EDIT:"START_FILL_IN_BLANK_QUESTION_EDIT",FINISH_FILL_IN_BLANK_QUESTION_EDIT:"FINISH_FILL_IN_BLANK_QUESTION_EDIT",SUBMIT_FILL_IN_BLANK_QUESTION_EDIT:"SUBMIT_FILL_IN_BLANK_QUESTION_EDIT",TOGGLE_NEW_FILL_IN_BLANK_QUESTION_MODAL:"TOGGLE_NEW_FILL_IN_BLANK_QUESTION_MODAL",EDITING_FILL_IN_BLANK_QUESTION:"EDITING_FILL_IN_BLANK_QUESTION",SUBMITTING_FILL_IN_BLANK_QUESTION:"SUBMITTING_FILL_IN_BLANK_QUESTION",START_RESPONSE_EDIT:"START_RESPONSE_EDIT",CANCEL_RESPONSE_EDIT:"CANCEL_RESPONSE_EDIT",FINISH_RESPONSE_EDIT:"FINISH_RESPONSE_EDIT",SUBMIT_RESPONSE_EDIT:"SUBMIT_RESPONSE_EDIT",SUBMITTING_RESPONSE:"SUBMITTING_RESPONSE",START_CHILD_RESPONSE_VIEW:"START_CHILD_RESPONSE_VIEW",CANCEL_CHILD_RESPONSE_VIEW:"CANCEL_CHILD_RESPONSE_VIEW",START_FROM_RESPONSE_VIEW:"START_FROM_RESPONSE_VIEW",CANCEL_FROM_RESPONSE_VIEW:"CANCEL_FROM_RESPONSE_VIEW",START_TO_RESPONSE_VIEW:"START_TO_RESPONSE_VIEW",CANCEL_TO_RESPONSE_VIEW:"CANCEL_TO_RESPONSE_VIEW",RECEIVE_DIAGNOSTIC_QUESTIONS_DATA:"RECEIVE_DIAGNOSTIC_QUESTIONS_DATA",AWAIT_NEW_DIAGNOSTIC_QUESTION_RESPONSE:"AWAIT_NEW_DIAGNOSTIC_QUESTION_RESPONSE",RECEIVE_NEW_DIAGNOSTIC_QUESTION_RESPONSE:"RECEIVE_NEW_DIAGNOSTIC_QUESTION_RESPONSE",START_DIAGNOSTIC_QUESTION_EDIT:"START_DIAGNOSTIC_QUESTION_EDIT",FINISH_DIAGNOSTIC_QUESTION_EDIT:"FINISH_DIAGNOSTIC_QUESTION_EDIT",SUBMIT_DIAGNOSTIC_QUESTION_EDIT:"SUBMIT_DIAGNOSTIC_QUESTION_EDIT",TOGGLE_NEW_DIAGNOSTIC_QUESTION_MODAL:"TOGGLE_NEW_DIAGNOSTIC_QUESTION_MODAL",EDITING_DIAGNOSTIC_QUESTION:"EDITING_DIAGNOSTIC_QUESTION",SUBMITTING_DIAGNOSTIC_QUESTION:"SUBMITTING_DIAGNOSTIC_QUESTION",START_DIAGNOSTIC_RESPONSE_EDIT:"START_DIAGNOSTIC_RESPONSE_EDIT",CANCEL_DIAGNOSTIC_RESPONSE_EDIT:"CANCEL_DIAGNOSTIC_RESPONSE_EDIT",FINISH_DIAGNOSTIC_RESPONSE_EDIT:"FINISH_DIAGNOSTIC_RESPONSE_EDIT",SUBMIT_DIAGNOSTIC_RESPONSE_EDIT:"SUBMIT_DIAGNOSTIC_RESPONSE_EDIT",SUBMITTING_DIAGNOSTIC_RESPONSE:"SUBMITTING_DIAGNOSTIC_RESPONSE",START_CHILD_DIAGNOSTIC_RESPONSE_VIEW:"START_CHILD_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_CHILD_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_CHILD_DIAGNOSTIC_RESPONSE_VIEW",START_FROM_DIAGNOSTIC_RESPONSE_VIEW:"START_FROM_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_FROM_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_FROM_DIAGNOSTIC_RESPONSE_VIEW",START_TO_DIAGNOSTIC_RESPONSE_VIEW:"START_TO_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_TO_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_TO_DIAGNOSTIC_RESPONSE_VIEW",RECEIVE_PATHWAYS_DATA:"RECEIVE_PATHWAYS_DATA",AWAIT_NEW_PATHWAY_RESPONSE:"AWAIT_NEW_PATHWAY_RESPONSE",RECEIVE_NEW_PATHWAY_RESPONSE:"RECEIVE_NEW_PATHWAY_RESPONSE",TOGGLE_EXPAND_SINGLE_RESPONSE:"TOGGLE_EXPAND_SINGLE_RESPONSE",COLLAPSE_ALL_RESPONSES:"COLLAPSE_ALL_RESPONSES",EXPAND_ALL_RESPONSES:"EXPAND_ALL_RESPONSES",TOGGLE_STATUS_FIELD:"TOGGLE_STATUS_FIELD",TOGGLE_RESPONSE_SORT:"TOGGLE_RESPONSE_SORT",RESET_ALL_FIELDS:"RESET_ALL_FIELDS",TOGGLE_MASS_SELECTION:"TOGGLE_MASS_SELECTION",DESELECT_ALL_FIELDS:"DESELECT_ALL_FIELDS",ADD_RESPONSE_TO_MASS_EDIT_ARRAY:"ADD_RESPONSE_TO_MASS_EDIT_ARRAY",REMOVE_RESPONSE_FROM_MASS_EDIT_ARRAY:"REMOVE_RESPONSE_FROM_MASS_EDIT_ARRAY",CLEAR_RESPONSES_FROM_MASS_EDIT_ARRAY:"CLEAR_RESPONSES_FROM_MASS_EDIT_ARRAY",QUESTION_SELECT_ADD_QUESTION:"QUESTION_SELECT_ADD_QUESTION",QUESTION_SELECT_MODIFY_QUESTION:"QUESTION_SELECT_MODIFY_QUESTION",QUESTION_SELECT_UPDATE_TITLE:"QUESTION_SELECT_UPDATE_TITLE",NUMBERS_AS_WORDS:["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty"],INSTRUCTIONS:{sentenceFragments:"Add/change as few words as you can to change this fragment into a sentence."},RECEIVE_CONCEPTS_FEEDBACK_DATA:"RECEIVE_CONCEPTS_FEEDBACK_DATA",AWAIT_NEW_CONCEPTS_FEEDBACK_RESPONSE:"AWAIT_NEW_CONCEPTS_FEEDBACK_RESPONSE",RECEIVE_NEW_CONCEPTS_FEEDBACK_RESPONSE:"RECEIVE_NEW_CONCEPTS_FEEDBACK_RESPONSE",START_CONCEPTS_FEEDBACK_EDIT:"START_CONCEPTS_FEEDBACK_EDIT",FINISH_CONCEPTS_FEEDBACK_EDIT:"FINISH_CONCEPTS_FEEDBACK_EDIT",SUBMIT_CONCEPTS_FEEDBACK_EDIT:"SUBMIT_CONCEPTS_FEEDBACK_EDIT",TOGGLE_NEW_CONCEPTS_FEEDBACK_MODAL:"TOGGLE_NEW_CONCEPTS_FEEDBACK_MODAL",RECEIVE_ITEM_LEVELS_DATA:"RECEIVE_ITEM_LEVELS_DATA",AWAIT_NEW_ITEM_LEVEL_RESPONSE:"AWAIT_NEW_ITEM_LEVEL_RESPONSE",RECEIVE_NEW_ITEM_LEVEL_RESPONSE:"RECEIVE_NEW_ITEM_LEVEL_RESPONSE",START_ITEM_LEVEL_EDIT:"START_ITEM_LEVEL_EDIT",FINISH_ITEM_LEVEL_EDIT:"FINISH_ITEM_LEVEL_EDIT",SUBMIT_ITEM_LEVEL_EDIT:"SUBMIT_ITEM_LEVEL_EDIT",TOGGLE_NEW_ITEM_LEVEL_MODAL:"TOGGLE_NEW_ITEM_LEVEL_MODAL",EDITING_ITEM_LEVEL:"EDITING_ITEM_LEVEL",SUBMITTING_ITEM_LEVEL:"SUBMITTING_ITEM_LEVEL",RECEIVE_SENTENCE_FRAGMENTS_DATA:"RECEIVE_SENTENCE_FRAGMENTS_DATA",AWAIT_NEW_SENTENCE_FRAGMENT_RESPONSE:"AWAIT_NEW_SENTENCE_FRAGMENT_RESPONSE",RECEIVE_NEW_SENTENCE_FRAGMENT_RESPONSE:"RECEIVE_NEW_SENTENCE_FRAGMENT_RESPONSE",START_SENTENCE_FRAGMENT_EDIT:"START_SENTENCE_FRAGMENT_EDIT",FINISH_SENTENCE_FRAGMENT_EDIT:"FINISH_SENTENCE_FRAGMENT_EDIT",SUBMIT_SENTENCE_FRAGMENT_EDIT:"SUBMIT_SENTENCE_FRAGMENT_EDIT",TOGGLE_NEW_SENTENCE_FRAGMENT_MODAL:"TOGGLE_NEW_SENTENCE_FRAGMENT_MODAL",EDITING_SENTENCE_FRAGMENT:"EDITING_SENTENCE_FRAGMENT",SUBMITTING_SENTENCE_FRAGMENT:"SUBMITTING_SENTENCE_FRAGMENT",UPDATE_SESSION_DATA:"UPDATE_SESSION_DATA",DELETE_SESSION_DATA:"DELETE_SESSION_DATA",DELETE_ALL_SESSION_DATA:"DELETE_ALL_SESSION_DATA",UPDATE_RESPONSE_STATUS:"UPDATE_RESPONSE_STATUS",UPDATE_RESPONSE_DATA:"UPDATE_RESPONSE_DATA",DELETE_RESPONSE_STATUS:"DELETE_RESPONSE_STATUS",RECEIVE_SCORE_ANALYSIS_DATA:"RECEIVE_SCORE_ANALYSIS_DATA",UPDATE_CLASSROOM_SESSION_DATA:"UPDATE_CLASSROOM_SESSION_DATA",UPDATE_CLASSROOM_SESSION_WITHOUT_CURRENT_SLIDE:"UPDATE_CLASSROOM_SESSION_WITHOUT_CURRENT_SLIDE",UPDATE_SLIDE_IN_STORE:"UPDATE_SLIDE_IN_STORE",TOGGLE_HEADERS:"TOGGLE_HEADERS",NO_CLASSROOM_ACTIVITY:"NO_CLASSROOM_ACTIVITY",NO_STUDENT_ID:"NO_STUDENT_ID",HIDE_SIGNUP_MODAL:"HIDE_SIGNUP_MODAL",SHOW_SIGNUP_MODAL:"SHOW_SIGNUP_MODAL",SET_USER_ID:"SET_USER_ID",SET_COTEACHERS:"SET_COTEACHERS",SET_EDITION_METADATA:"SET_EDITION_METADATA",SET_EDITION_QUESTIONS:"SET_EDITION_QUESTIONS",SET_WORKING_EDITION_QUESTIONS:"SET_WORKING_EDITION_QUESTIONS",SET_WORKING_EDITION_METADATA:"SET_WORKING_EDITION_METADATA",SET_INCOMPLETE_QUESTIONS:"SET_INCOMPLETE_QUESTIONS"};exports.checkSentenceCombining=checkSentenceCombining,exports.checkDiagnosticQuestion=checkDiagnosticQuestion,exports.checkSentenceFragment=checkSentenceFragment,exports.checkFillInTheBlankQuestion=checkFillInTheBlankQuestion,exports.checkGrammarQuestion=checkGrammarQuestion;